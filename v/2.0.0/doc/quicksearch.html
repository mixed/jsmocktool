<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"jsmock.js.html":{"id":"jsmock.js.html","title":"Source: jsmock.js","body":" DocStrap Classes MockMockMethod Global anythingINSTANCEmockOBJECT Source: jsmock.js import MockMethodFactory from './jsmockMethodFactory'; import TestDouble from '../testDouble'; /** @class Mock */ class Mock extends TestDouble { /** * @access private **/ constructor(name, type = 'object') { super(name, type); this.type = 'Mock'; } /** * should_receive make method in mock. * @memberof Mock * @instance * @param {string} methodName - method name in mock. * @function should_receive * @returns {MockMethod} * @example mock(&quot;obj&quot;).should_receive(&quot;something&quot;); // obj.something(); mock(&quot;Sample&quot;,mock.INSTANCE).should_receive(&quot;something&quot;); // let sample = new Sample(); // sample.something(); // class Test // end // let test = new Test(); mock(test).should_receive(&quot;something&quot;); // test.something(); mock(Test,mock.INSTANCE).should_receive(&quot;instance&quot;); // let test = new Test(); // test.instance() **/ should_receive(methodName) { return MockMethodFactory.getMethod(this.getTestDouble(), methodName); } /** * Return specific information called method. * @memberof Mock * @instance * @function verify * @example mock(&quot;obj&quot;).should_receive(&quot;something&quot;); obj.something(); mock(&quot;obj&quot;).verify(&quot;something&quot;); // {&quot;total&quot; : 1, param : {}} **/ verify(methodName) { const methodInfo = MockMethodFactory.getData(this.getTestDouble()).get(methodName); if (methodInfo) { if (methodInfo.record.total === 0) { throw new Error(`${methodName} isn't called.`); } else { return methodInfo.record; } } else { throw new Error(`${methodName} isn't method.`); } } /** * Return all information called methods. * @memberof Mock * @instance * @function verify_all * @example mock(&quot;obj&quot;).should_receive(&quot;something&quot;); mock(&quot;obj&quot;).should_receive(&quot;something2&quot;); obj.something(); obj.something2(); mock(&quot;obj&quot;).verify_all(); //{ // &quot;something&quot;: {total&quot; : 1, param : {}} // &quot;something2&quot;: {total&quot; : 1, param : {}} //} **/ verify_all() { const obj = MockMethodFactory.getData(this.getTestDouble()); const returnValue = {}; obj.forEach((v, i) =&gt; { if (i !== 'current_obj') returnValue[i] = this.verify(i); }); return returnValue; } /** * Resets specific information called method. * @memberof Mock * @instance * @function reset * @example mock(&quot;obj&quot;).should_receive(&quot;something&quot;); mock(&quot;obj&quot;).should_receive(&quot;something2&quot;); obj.something(); obj.something2(); mock(&quot;obj&quot;).verify(&quot;something&quot;); // {&quot;total&quot; : 1, param : {}} mock(&quot;obj&quot;).verify(&quot;something2&quot;); // {&quot;total&quot; : 1, param : {}} mock(&quot;obj&quot;).reset(&quot;something&quot;); mock(&quot;obj&quot;).verify(&quot;something&quot;); // throw new Error(`something isn't called.`); mock(&quot;obj&quot;).verify(&quot;something2&quot;); // {&quot;total&quot; : 1, param : {}} **/ reset(methodName) { const obj = MockMethodFactory.getData(this.getTestDouble()); obj.get(methodName).record = { total: 0, param: {} }; } /** * Resets all information called methods. * @memberof Mock * @instance * @function reset_all * @example mock(&quot;obj&quot;).should_receive(&quot;something&quot;); mock(&quot;obj&quot;).should_receive(&quot;something2&quot;); obj.something(); obj.something2(); mock(&quot;obj&quot;).verify(&quot;something&quot;); // {&quot;total&quot; : 1, param : {}} mock(&quot;obj&quot;).verify(&quot;something2&quot;); // {&quot;total&quot; : 1, param : {}} mock(&quot;obj&quot;).reset_all(); mock(&quot;obj&quot;).verify(&quot;something&quot;); // throw new Error(`something isn't called.`); mock(&quot;obj&quot;).verify(&quot;something2&quot;); // throw new Error(`something2 isn't called.`); **/ reset_all() { for (const [key, value] of MockMethodFactory.getData(this.getTestDouble())) { if (key !== 'current_obj') { value.record = { total: 0, param: {} }; } } } } /** * @desc create mock in global. * @param {string|object|function|class} name - Mock object of name, object, function or class. * @param {string} type - Mock object of type. - mock.INSTANCE, mock.OBJECT(defalut) * @function mock * @returns {Mock} * @example // If `name` is string and `global` not found `name` object that mock create object in global. mock(&quot;obj&quot;).should_receive(&quot;something&quot;); mock(&quot;Sample&quot;,mock.INSTANCE).should_receive(&quot;something&quot;); // If `name` is object that mock don`t create object. mock(obj).should_receive(&quot;something&quot;); mock(zlass).should_receive(&quot;something&quot;); **/ export default function mockWrap(name, type) { if (this instanceof Mock) { this.createTestDouble(name, type); } else { return new Mock(name, type); } } /** * object string * @name mock.OBJECT * @global * @example mock(&quot;obj&quot;, mock.OBJECT); **/ mockWrap.OBJECT = 'object'; /** * instance string * @name mock.INSTANCE * @global * @example mock(&quot;obj&quot;, mock.INSTANCE); **/ mockWrap.INSTANCE = 'instance'; /** * `anything` return special string. * If you use `anything` in `with_param` that * `should_receive` execute method regardless of parameter value. * @name mock.anything * @global * @function anything * @returns {String} - '_js_mock_anything_param' * @example mock(&quot;obj&quot;).should_receive(&quot;something&quot;).with_param(1,mock.anything()).and_return(&quot;1&quot;); **/ mockWrap.anything = () =&gt; '_js_mock_anything_param'; × Search results Close "},"jsmockMethod.js.html":{"id":"jsmockMethod.js.html","title":"Source: jsmockMethod.js","body":" DocStrap Classes MockMockMethod Global anythingINSTANCEmockOBJECT Source: jsmockMethod.js /** @class MockMethod */ export default class MockMethod { /** * @access private **/ constructor(obj, methodName) { this.excuteObjs = new Map(); // { // key:{ // arg:[], // type:'function', // excute : function(){} // } // }; this.record = { total: 0, param: {} }; this.currentParam = this.transformParamToString([]); this.excuteObjs.set(this.currentParam, new Map()); this.setup(obj, methodName); } /** * @access private **/ transformParamToString(obj) { return JSON.stringify(obj); } /** * @access private **/ setup(obj, methodName) { const that = this; const target = obj; target[methodName] = (...params) =&gt; { that.record.total++; const argString = that.transformParamToString(params); if (that.record.param[argString]) { that.record.param[argString] += 1; } else { that.record.param[argString] = 1; } const dataObj = that.excuteObjs.get(argString); if (dataObj) { const type = dataObj.get('type'); const excute = dataObj.get('excute'); if (type === 'function') { return excute.apply(dataObj, params); } else if (type === 'exception') { throw excute; } else if (type === 'return') { return excute; } } else { for (const [, info] of that.excuteObjs) { const arg = info.get('arg'); if ( arg &amp;&amp; (arg.length === params.length) &amp;&amp; !arg.find((v, i) =&gt; (v !== params[i] &amp;&amp; v !== '_js_mock_anything_param')) ) { return info.get('excute'); } } } }; } /** * set parameters of should_receive. * If you use `with_param` that `and_xxx` method execute matching param. * @instance * @memberof MockMethod * @param {...anything} params - list up parameters. * @function with_param * @returns {MockMethod} * @example mock(&quot;obj&quot;).should_receive(&quot;something&quot;).with_param(1,2).and_return(&quot;1&quot;); // obj.something(1); =&gt; not return anything // obj.something(1, 2); =&gt; &quot;1&quot; // You can use `mock.anything`. mock(&quot;obj&quot;).should_receive(&quot;something&quot;).with_param(1,mock.anything()).and_return(&quot;1&quot;); // obj.something(1, 1); =&gt; &quot;1&quot; // obj.something(1, 2); =&gt; &quot;1&quot; // obj.something(1, 3); =&gt; &quot;1&quot; **/ with_param(...params) { this.currentParam = this.transformParamToString(params); this.excuteObjs.set(this.currentParam, (new Map()).set('arg', params)); return this; } /** * @access private **/ and_template(type, excute) { this.excuteObjs .get(this.currentParam) .set('type', type) .set('excute', excute); this.currentParam = this.transformParamToString([]); } /** * set return value when should_receive called. * @instance * @memberof MockMethod * @param {Object} returnVal - return value * @function and_return * @example mock(&quot;obj&quot;).should_receive(&quot;something&quot;).and_return(&quot;1&quot;); // obj.something(1); =&gt; &quot;1&quot; // obj.something(1, 2); =&gt; &quot;1&quot; **/ and_return(returnVal) { this.and_template('return', returnVal); } /** * Set execution function when should_receive called. * @instance * @memberof MockMethod * @param {Function} returnFunction - execute function * @function and_function * @example mock(&quot;obj&quot;).should_receive(&quot;something&quot;).and_function(function(){ return &quot;1&quot;; }); // obj.something(1); =&gt; &quot;1&quot; // obj.something(1, 2); =&gt; &quot;1&quot; **/ and_function(returnFunction) { this.and_template('function', returnFunction); } /** * Set exception error when should_receive called. * @instance * @memberof MockMethod * @param {String} returnException - exception message * @function and_throw * @example mock(&quot;obj&quot;).should_receive(&quot;something&quot;).and_throw(&quot;error&quot;); // obj.something(1); =&gt; new Error(&quot;error&quot;) // obj.something(1, 2); =&gt; new Error(&quot;error&quot;) **/ and_throw(returnException) { this.and_template('exception', returnException); } } × Search results Close "},"global.html":{"id":"global.html","title":"Global","body":" DocStrap Classes MockMockMethod Global anythingINSTANCEmockOBJECT Global Members INSTANCE instance string Source: jsmock.js, line 176 Example mock(&quot;obj&quot;, mock.INSTANCE); OBJECT object string Source: jsmock.js, line 167 Example mock(&quot;obj&quot;, mock.OBJECT); Methods anything() anything return special string.If you use anything in with_param thatshould_receive execute method regardless of parameter value. Source: jsmock.js, line 185 Returns: '_js_mock_anything_param' Type String Example mock(&quot;obj&quot;).should_receive(&quot;something&quot;).with_param(1,mock.anything()).and_return(&quot;1&quot;); mock(name, type) create mock in global. Parameters: Name Type Description name string | object | function | class Mock object of name, object, function or class. type string Mock object of type. - mock.INSTANCE, mock.OBJECT(defalut) Source: jsmock.js, line 144 Returns: Type Mock Example // If `name` is string and `global` not found `name` object that mock create object in global. mock(&quot;obj&quot;).should_receive(&quot;something&quot;); mock(&quot;Sample&quot;,mock.INSTANCE).should_receive(&quot;something&quot;); // If `name` is object that mock don`t create object. mock(obj).should_receive(&quot;something&quot;); mock(zlass).should_receive(&quot;something&quot;); × Search results Close "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" DocStrap Classes MockMockMethod Global anythingINSTANCEmockOBJECT Classes Classes Mock MockMethod × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" DocStrap Classes MockMockMethod Global anythingINSTANCEmockOBJECT × Search results Close "},"Mock.html":{"id":"Mock.html","title":"Class: Mock","body":" DocStrap Classes MockMockMethod Global anythingINSTANCEmockOBJECT Class: Mock Mock new Mock() Source: jsmock.js, line 4 Methods reset() Resets specific information called method. Source: jsmock.js, line 93 Example mock(&quot;obj&quot;).should_receive(&quot;something&quot;); mock(&quot;obj&quot;).should_receive(&quot;something2&quot;); obj.something(); obj.something2(); mock(&quot;obj&quot;).verify(&quot;something&quot;); // {&quot;total&quot; : 1, param : {}} mock(&quot;obj&quot;).verify(&quot;something2&quot;); // {&quot;total&quot; : 1, param : {}} mock(&quot;obj&quot;).reset(&quot;something&quot;); mock(&quot;obj&quot;).verify(&quot;something&quot;); // throw new Error(`something isn't called.`); mock(&quot;obj&quot;).verify(&quot;something2&quot;); // {&quot;total&quot; : 1, param : {}} reset_all() Resets all information called methods. Source: jsmock.js, line 116 Example mock(&quot;obj&quot;).should_receive(&quot;something&quot;); mock(&quot;obj&quot;).should_receive(&quot;something2&quot;); obj.something(); obj.something2(); mock(&quot;obj&quot;).verify(&quot;something&quot;); // {&quot;total&quot; : 1, param : {}} mock(&quot;obj&quot;).verify(&quot;something2&quot;); // {&quot;total&quot; : 1, param : {}} mock(&quot;obj&quot;).reset_all(); mock(&quot;obj&quot;).verify(&quot;something&quot;); // throw new Error(`something isn't called.`); mock(&quot;obj&quot;).verify(&quot;something2&quot;); // throw new Error(`something2 isn't called.`); should_receive(methodName) should_receive make method in mock. Parameters: Name Type Description methodName string method name in mock. Source: jsmock.js, line 13 Returns: Type MockMethod Example mock(&quot;obj&quot;).should_receive(&quot;something&quot;); // obj.something(); mock(&quot;Sample&quot;,mock.INSTANCE).should_receive(&quot;something&quot;); // let sample = new Sample(); // sample.something(); // class Test // end // let test = new Test(); mock(test).should_receive(&quot;something&quot;); // test.something(); mock(Test,mock.INSTANCE).should_receive(&quot;instance&quot;); // let test = new Test(); // test.instance() verify() Return specific information called method. Source: jsmock.js, line 42 Example mock(&quot;obj&quot;).should_receive(&quot;something&quot;); obj.something(); mock(&quot;obj&quot;).verify(&quot;something&quot;); // {&quot;total&quot; : 1, param : {}} verify_all() Return all information called methods. Source: jsmock.js, line 65 Example mock(&quot;obj&quot;).should_receive(&quot;something&quot;); mock(&quot;obj&quot;).should_receive(&quot;something2&quot;); obj.something(); obj.something2(); mock(&quot;obj&quot;).verify_all(); //{ // &quot;something&quot;: {total&quot; : 1, param : {}} // &quot;something2&quot;: {total&quot; : 1, param : {}} //} × Search results Close "},"MockMethod.html":{"id":"MockMethod.html","title":"Class: MockMethod","body":" DocStrap Classes MockMockMethod Global anythingINSTANCEmockOBJECT Class: MockMethod MockMethod new MockMethod() Source: jsmockMethod.js, line 2 Methods and_function(returnFunction) Set execution function when should_receive called. Parameters: Name Type Description returnFunction function execute function Source: jsmockMethod.js, line 120 Example mock(&quot;obj&quot;).should_receive(&quot;something&quot;).and_function(function(){ return &quot;1&quot;; }); // obj.something(1); =&gt; &quot;1&quot; // obj.something(1, 2); =&gt; &quot;1&quot; and_return(returnVal) set return value when should_receive called. Parameters: Name Type Description returnVal Object return value Source: jsmockMethod.js, line 106 Example mock(&quot;obj&quot;).should_receive(&quot;something&quot;).and_return(&quot;1&quot;); // obj.something(1); =&gt; &quot;1&quot; // obj.something(1, 2); =&gt; &quot;1&quot; and_throw(returnException) Set exception error when should_receive called. Parameters: Name Type Description returnException String exception message Source: jsmockMethod.js, line 136 Example mock(&quot;obj&quot;).should_receive(&quot;something&quot;).and_throw(&quot;error&quot;); // obj.something(1); =&gt; new Error(&quot;error&quot;) // obj.something(1, 2); =&gt; new Error(&quot;error&quot;) with_param(params) set parameters of should_receive.If you use with_param that and_xxx method execute matching param. Parameters: Name Type Argument Description params anything &lt;repeatable&gt; list up parameters. Source: jsmockMethod.js, line 70 Returns: Type MockMethod Example mock(&quot;obj&quot;).should_receive(&quot;something&quot;).with_param(1,2).and_return(&quot;1&quot;); // obj.something(1); =&gt; not return anything // obj.something(1, 2); =&gt; &quot;1&quot; // You can use `mock.anything`. mock(&quot;obj&quot;).should_receive(&quot;something&quot;).with_param(1,mock.anything()).and_return(&quot;1&quot;); // obj.something(1, 1); =&gt; &quot;1&quot; // obj.something(1, 2); =&gt; &quot;1&quot; // obj.something(1, 3); =&gt; &quot;1&quot; × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>

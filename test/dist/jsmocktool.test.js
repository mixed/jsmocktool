/**
* Copyright (c) 2015 YongWoo, Jeon <i.nevalose@gmail.com> (http://mixed.kr/).
* @license MIT
*
* jsmocktool is Javascript Mock Tool of RSpec Style.
* https://github.com/mixed/jsmocktool
*
* @version 2.0.0
*/

!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){n(10),n(11),e.exports=n(12)},function(e,t){"use strict";e.exports="undefined"!=typeof window&&window.Math===Math?window:"undefined"!=typeof self&&self.Math===Math?self:Function("return this")()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),u=r(a),l=function(){function e(t,n){o(this,e),this.createTestDouble(t,n)}return s(e,[{key:"createTestDouble",value:function(e,t){if(this.returnValue="_js_testDouble_none",this.testDoubleType=t,"string"==typeof e)this.makeEnableObj(e,t);else{if("object"!==("undefined"==typeof e?"undefined":i(e))&&"function"!=typeof e)throw new Error("Name of "+this.type+" is incorrect.\n			The Type only have String or Object or Function.");this.testDoubleObj=e}}},{key:"getTestDouble",value:function(){return"object"===this.testDoubleType?this.testDoubleObj:this.testDoubleObj.prototype}},{key:"makeEnableObj",value:function(e,t){var n=e.split("."),r=n[0],o=u["default"];n.length>1&&(n.splice(0,n.length-1).forEach(function(e){"undefined"==typeof o[e]&&(o[e]={}),o=o[e]}),r=n[n.length-1]);var i=o[r];this.testDoubleObj=i,"object"!==t||i?"instance"!==t||i||(this.testDoubleObj=o[r]=function(){},this.testDoubleObj.prototype=o[r].prototype={}):this.testDoubleObj=o[r]={}}}]),e}();t["default"]=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.mock=t.stub=void 0;var o=n(7),i=r(o),s=n(4),a=r(s);t.stub=i["default"],t.mock=a["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){return this instanceof p?void this.createTestDouble(e,t):new p(e,t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(u){o=!0,i=u}finally{try{!r&&a["return"]&&a["return"]()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t["default"]=a;var c=n(6),f=r(c),d=n(2),h=r(d),p=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?"object":arguments[1];o(this,t);var r=i(this,Object.getPrototypeOf(t).call(this,e,n));return r.type="Mock",r}return s(t,e),l(t,[{key:"should_receive",value:function(e){return f["default"].getMethod(this.getTestDouble(),e)}},{key:"verify",value:function(e){var t=f["default"].getData(this.getTestDouble()).get(e);if(t){if(0===t.record.total)throw new Error(e+" isn't called.");return t.record}throw new Error(e+" isn't method.")}},{key:"verify_all",value:function(){var e=this,t=f["default"].getData(this.getTestDouble()),n={};return t.forEach(function(t,r){"current_obj"!==r&&(n[r]=e.verify(r))}),n}},{key:"reset",value:function(e){var t=f["default"].getData(this.getTestDouble());t.get(e).record={total:0,param:{}}}},{key:"reset_all",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,o=f["default"].getData(this.getTestDouble())[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=u(r.value,2),s=i[0],a=i[1];"current_obj"!==s&&(a.record={total:0,param:{}})}}catch(l){t=!0,n=l}finally{try{!e&&o["return"]&&o["return"]()}finally{if(t)throw n}}}}]),t}(h["default"]);a.OBJECT="object",a.INSTANCE="instance",a.anything=function(){return"_js_mock_anything_param"}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(u){o=!0,i=u}finally{try{!r&&a["return"]&&a["return"]()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,r){n(this,e),this.excuteObjs=new Map,this.record={total:0,param:{}},this.currentParam=this.transformParamToString([]),this.excuteObjs.set(this.currentParam,new Map),this.setup(t,r)}return o(e,[{key:"transformParamToString",value:function(e){return JSON.stringify(e)}},{key:"setup",value:function(e,t){var n=this,o=e;o[t]=function(){for(var e=arguments.length,t=Array(e),o=0;e>o;o++)t[o]=arguments[o];n.record.total++;var i=n.transformParamToString(t);n.record.param[i]?n.record.param[i]+=1:n.record.param[i]=1;var s=n.excuteObjs.get(i);if(s){var a=s.get("type"),u=s.get("excute");if("function"===a)return u.apply(s,t);if("exception"===a)throw u;if("return"===a)return u}else{var l=!0,c=!1,f=void 0;try{for(var d,h=n.excuteObjs[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var p=r(d.value,2),m=p[1],g=m.get("arg");if(g&&g.length===t.length&&!g.find(function(e,n){return e!==t[n]&&"_js_mock_anything_param"!==e}))return m.get("excute")}}catch(v){c=!0,f=v}finally{try{!l&&h["return"]&&h["return"]()}finally{if(c)throw f}}}}}},{key:"with_param",value:function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return this.currentParam=this.transformParamToString(t),this.excuteObjs.set(this.currentParam,(new Map).set("arg",t)),this}},{key:"and_template",value:function(e,t){this.excuteObjs.get(this.currentParam).set("type",e).set("excute",t),this.currentParam=this.transformParamToString([])}},{key:"and_return",value:function(e){this.and_template("return",e)}},{key:"and_function",value:function(e){this.and_template("function",e)}},{key:"and_throw",value:function(e){this.and_template("exception",e)}}]),e}();t["default"]=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),i=r(o);t["default"]={storage:[],createData:function(e){var t=(new Map).set("current_obj",e);return this.storage.push(t),t},createMethod:function(e,t){return new i["default"](e,t)},getData:function(e){var t=this.storage.find(function(t){return t.get("current_obj")===e});return t||this.createData(e)},getMethod:function(e,t){var n=this.getData(e),r=n.get(t);return r||(r=this.createMethod(e,t),n.set(t,r)),r}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){m["default"].console&&console.warn&&console.warn(e)}function u(e,t){return this instanceof g?void this.createTestDouble(e,t):new g(e,t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t["default"]=u;var c=n(8),f=r(c),d=n(2),h=r(d),p=n(1),m=r(p),g=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?"object":arguments[1];o(this,t);var r=i(this,Object.getPrototypeOf(t).call(this,e,n));return r.type="Stub",a("[WARN] : Deprecated Stub. You should be change to Mock."),r}return s(t,e),l(t,[{key:"should_receive",value:function(e){var t=this;return this.getTestDouble()[e]=function(){return"_js_stub_none"!==t.returnValue?t.returnValue:void 0},new f["default"](this)}}]),t}(h["default"]);u.OBJECT="object",u.INSTANCE="instance"},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){n(this,e),this.stub=t}return r(e,[{key:"and_return",value:function(e){this.stub.returnValue=e}}]),e}();t["default"]=o},function(e,t,n){var r;(function(e,o){/*!
	 * QUnit 2.0.0-rc1
	 * https://qunitjs.com/
	 *
	 * Copyright jQuery Foundation and other contributors
	 * Released under the MIT license
	 * https://jquery.org/license
	 *
	 * Date: 2016-04-19T16:15Z
	 */
!function(e){function i(e,t){var n,r,o=e.slice();for(n=0;n<o.length;n++)for(r=0;r<t.length;r++)if(o[n]===t[r]){o.splice(n,1),n--;break}return o}function s(e,t){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;r>n;n++)if(t[n]===e)return n;return-1}function a(e){var t,n,r=Q.is("array",e)?[]:{};for(t in e)Y.call(e,t)&&(n=e[t],r[t]=n===Object(n)?a(n):n);return r}function u(e,t,n){for(var r in t)Y.call(t,r)&&(void 0===t[r]?delete e[r]:n&&"undefined"!=typeof e[r]||(e[r]=t[r]));return e}function l(e){if("undefined"==typeof e)return"undefined";if(null===e)return"null";var t=J.call(e).match(/^\[object\s(.*)\]$/),n=t&&t[1];switch(n){case"Number":return isNaN(e)?"nan":"number";case"String":case"Boolean":case"Array":case"Set":case"Map":case"Date":case"RegExp":case"Function":case"Symbol":return n.toLowerCase()}return"object"==typeof e?"object":void 0}function c(e,t){return Q.objectType(t)===e}function f(e,t){t=void 0===t?4:t;var n,r,o;if(e.stack){if(n=e.stack.split("\n"),/^error$/i.test(n[0])&&n.shift(),$){for(r=[],o=t;o<n.length&&-1===n[o].indexOf($);o++)r.push(n[o]);if(r.length)return r.join("\n")}return n[t]}}function d(e){var t=new Error;if(!t.stack)try{throw t}catch(n){t=n}return f(t,e)}function h(e){function t(e){var t=function(t){if("function"!==l(t))throw new Error("QUnit logging methods require a callback function as their first parameters.");K.callbacks[e].push(t)};return t}var n,r,o,i=["begin","done","log","testStart","testDone","moduleStart","moduleDone"];for(n=0,r=i.length;r>n;n++)o=i[n],"undefined"===l(K.callbacks[o])&&(K.callbacks[o]=[]),e[o]=t(o)}function p(e,t){var n,r,o;for(o=K.callbacks[e],n=0,r=o.length;r>n;n++)o[n](t)}function m(){var e,t,n=[];if(!K.started){for(K.started=P(),""===K.modules[0].name&&0===K.modules[0].tests.length&&K.modules.shift(),e=0,t=K.modules.length;t>e;e++)n.push({name:K.modules[e].name,tests:K.modules[e].tests});p("begin",{totalTests:E.count,modules:n})}K.blocking=!1,g(!0)}function g(e){function t(){g(e)}var n=P();for(K.depth=(K.depth||0)+1;K.queue.length&&!K.blocking;){if(!(!B.setTimeout||K.updateRate<=0||P()-n<K.updateRate)){F(t,13);break}K.current&&(K.current.usedAsync=!1),K.queue.shift()()}K.depth--,!e||K.blocking||K.queue.length||0!==K.depth||y()}function v(e){K.blocking=!0,K.testTimeout&&B.setTimeout&&(L(K.timeout),K.timeout=F(function(){e.semaphore=0,Q.pushFailure("Test timed out",d(2)),b(e)},K.testTimeout))}function b(e){G=!0,B.setTimeout?F(function(){var t=e||K.current;t&&t.semaphore>0||(K.timeout&&L(K.timeout),m())},13):m()}function y(){var e,t;W=!0,K.previousModule&&p("moduleDone",{name:K.previousModule.name,tests:K.previousModule.tests,failed:K.moduleStats.bad,passed:K.moduleStats.all-K.moduleStats.bad,total:K.moduleStats.all,runtime:P()-K.moduleStats.started}),delete K.previousModule,e=P()-K.started,t=K.stats.all-K.stats.bad,p("done",{failed:K.stats.bad,passed:t,total:K.stats.all,runtime:e})}function w(e,t){return void 0===e.testEnvironment&&(e.testEnvironment={}),function(n){e.testEnvironment[t]=n}}function E(e){var t,n;for(++E.count,this.expected=null,u(this,e),this.assertions=[],this.semaphore=0,this.usedAsync=!1,this.module=K.currentModule,this.stack=d(3),t=0,n=this.module.tests;t<n.length;t++)this.module.tests[t].name===this.testName&&(this.testName+=" ");this.testId=_(this.module.name,this.testName),this.module.tests.push({name:this.testName,testId:this.testId}),e.skip?(this.callback=function(){},this.async=!1,this.expected=0):this.assert=new N(this)}function k(){var e=B.document&&document.getElementById&&document.getElementById("qunit-fixture");e&&(e.innerHTML=K.fixture)}function _(e,t){for(var n,r=0,o=0,i=e+""+t,s=i.length;s>r;r++)o=(o<<5)-o+i.charCodeAt(r),o|=0;return n=(4294967296+o).toString(16),n.length<8&&(n="0000000"+n),n.slice(-8)}function q(e,t,n){var r,o=!t;if("array"!==Q.objectType(e))t?K.queue.splice(ee++,0,e):n?(X||(X=T(n)),r=Math.floor(X()*(K.queue.length-ee+1)),K.queue.splice(ee+r,0,e)):K.queue.push(e),W&&!K.blocking&&g(o);else for(;e.length;)q(e.shift())}function T(e){var t=parseInt(_(e),16)||-1;return function(){return t^=t<<13,t^=t>>>17,t^=t<<5,0>t&&(t+=4294967296),t/4294967296}}function x(){if(K.pollution=[],K.noglobals)for(var t in e)if(Y.call(e,t)){if(/^qunit-test-output/.test(t))continue;K.pollution.push(t)}}function C(){var e,t,n=K.pollution;x(),e=i(K.pollution,n),e.length>0&&Q.pushFailure("Introduced global variable(s): "+e.join(", ")),t=i(n,K.pollution),t.length>0&&Q.pushFailure("Deleted global variable(s): "+t.join(", "))}function j(e,t){if(!Z){var n;n=new E({testName:e,callback:t}),n.queue()}}function M(e){if(!Z){var t=new E({testName:e,skip:!0});t.queue()}}function O(e,t){var n;Z||(Q.config.queue.length=0,Z=!0,n=new E({testName:e,callback:t}),n.queue())}function S(e){e.semaphore+=1,v(e)}function I(e){return e.semaphore-=1,isNaN(e.semaphore)?(e.semaphore=0,void Q.pushFailure("Invalid value on test.semaphore",d(2))):e.semaphore>0?void 0:e.semaphore<0?(e.semaphore=0,void Q.pushFailure("Tried to restart test while already started (test's semaphore was 0 already)",d(2))):void b(e)}function D(e){for(var t=e.tests.length;e=e.childModule;)t+=e.tests.length;return t}function R(e){for(e.testsRun++;e=e.parentModule;)e.testsRun++}function N(e){this.test=e}function U(e){var t,n,r=e.toString();return"[object"===r.substring(0,7)?(t=e.name?e.name.toString():"Error",n=e.message?e.message.toString():"",t&&n?t+": "+n:t?t:n?n:"Error"):r}function V(e){return function(){throw new Error(e+" is removed in QUnit 2.0.\nDetails in our upgrade guide at https://qunitjs.com/upgrade-guide-2.x/")}}var Q={},A=e.Date,P=A.now||function(){return(new A).getTime()},F=e.setTimeout,L=e.clearTimeout,H=e.window,B={document:H&&void 0!==H.document,setTimeout:void 0!==F,sessionStorage:function(){var e="qunit-test-string";try{return sessionStorage.setItem(e,e),sessionStorage.removeItem(e),!0}catch(t){return!1}}()},$=(d(0)||"").replace(/(:\d+)+\)?/,"").replace(/.+\//,""),z=!1,G=!1,W=!1,J=Object.prototype.toString,Y=Object.prototype.hasOwnProperty,K={queue:[],blocking:!0,reorder:!0,altertitle:!0,collapse:!0,scrolltop:!0,maxDepth:5,requireExpects:!1,urlConfig:[],modules:[],moduleStack:[],currentModule:{name:"",tests:[]},callbacks:{}};K.modules.push(K.currentModule),function(){if(B.document){var e=H.onerror;H.onerror=function(t,n,r){var o=!1;if(e&&(o=e(t,n,r)),o!==!0){if(Q.config.current){if(Q.config.current.ignoreGlobalErrors)return!0;Q.pushFailure(t,n+":"+r)}else Q.test("global failure",u(function(){Q.pushFailure(t,n+":"+r)},{validTest:!0}));return!1}return o}}}(),Q.isLocal=!(B.document&&"file:"!==H.location.protocol),Q.version="2.0.0-rc1",u(Q,{module:function(e,t,n){function r(){var n=K.moduleStack.length?K.moduleStack.slice(-1)[0]:null,r=null!==n?[n.name,e].join(" > "):e,o={name:r,parentModule:n,tests:[],moduleId:_(r),testsRun:0},i={};return n&&(n.childModule=o,u(i,n.testEnvironment),delete i.beforeEach,delete i.afterEach),u(i,t),o.testEnvironment=i,K.modules.push(o),o}function o(e){K.currentModule=e}var i,s,a=K.currentModule;2===arguments.length&&"function"===l(t)&&(n=t,t=void 0),i=r(),t&&(t.setup||t.teardown)&&console.warn("Module's `setup` and `teardown` are not hooks anymore on QUnit 2.0, use `beforeEach` and `afterEach` instead\nDetails in our upgrade guide at https://qunitjs.com/upgrade-guide-2.x/"),s={before:w(i,"before"),beforeEach:w(i,"beforeEach"),afterEach:w(i,"afterEach"),after:w(i,"after")},"function"===l(n)&&(K.moduleStack.push(i),o(i),n.call(i.testEnvironment,s),K.moduleStack.pop(),i=i.parentModule||a),o(i)},test:j,skip:M,only:O,start:function(e){var t=z;if(K.current)throw new Error("QUnit.start cannot be called inside a test context. This feature is removed in QUnit 2.0. For async tests, use QUnit.test() with assert.async() instead.\nDetails in our upgrade guide at https://qunitjs.com/upgrade-guide-2.x/");if(z=!0,G)throw new Error("Called start() while test already started running");if(t||e>1)throw new Error("Called start() outside of a test context too many times");if(K.autostart)throw new Error("Called start() outside of a test context when QUnit.config.autostart was true");return K.pageLoaded?void b():void(K.autostart=!0)},config:K,is:c,objectType:l,extend:u,load:function(){K.pageLoaded=!0,u(K,{stats:{all:0,bad:0},moduleStats:{all:0,bad:0},started:0,updateRate:1e3,autostart:!0,filter:""},!0),K.blocking=!1,K.autostart&&b()},stack:function(e){return e=(e||0)+2,d(e)}}),h(Q);var X,Z=!1,ee=0;E.count=0,E.prototype={before:function(){this.module===K.previousModule&&Y.call(K,"previousModule")||(Y.call(K,"previousModule")&&p("moduleDone",{name:K.previousModule.name,tests:K.previousModule.tests,failed:K.moduleStats.bad,passed:K.moduleStats.all-K.moduleStats.bad,total:K.moduleStats.all,runtime:P()-K.moduleStats.started}),K.previousModule=this.module,K.moduleStats={all:0,bad:0,started:P()},p("moduleStart",{name:this.module.name,tests:this.module.tests})),K.current=this,this.module.testEnvironment&&(delete this.module.testEnvironment.before,delete this.module.testEnvironment.beforeEach,delete this.module.testEnvironment.afterEach,delete this.module.testEnvironment.after),this.testEnvironment=u({},this.module.testEnvironment),this.started=P(),p("testStart",{name:this.testName,module:this.module.name,testId:this.testId}),K.pollution||x()},run:function(){function e(e){t=e.callback.call(e.testEnvironment,e.assert),e.resolvePromise(t)}var t;if(K.current=this,this.async&&S(this),this.callbackStarted=P(),K.notrycatch)return void e(this);try{e(this)}catch(n){this.pushFailure("Died on test #"+(this.assertions.length+1)+" "+this.stack+": "+(n.message||n),f(n,0)),x(),K.blocking&&I(this)}},after:function(){C()},queueHook:function(e,t,n){var r,o=this;return function(){function i(){r=e.call(o.testEnvironment,o.assert),o.resolvePromise(r,t)}if("before"===t){if(0!==n.testsRun)return;o.preserveEnvironment=!0}if("after"!==t||n.testsRun===D(n)-1){if(K.current=o,K.notrycatch)return void i();try{i()}catch(s){o.pushFailure(t+" failed on "+o.testName+": "+(s.message||s),f(s,0))}}}},hooks:function(e){function t(r,o){o.parentModule&&t(r,o.parentModule),o.testEnvironment&&"function"===Q.objectType(o.testEnvironment[e])&&n.push(r.queueHook(o.testEnvironment[e],e,o))}var n=[];return this.skip||t(this,this.module),n},finish:function(){K.current=this,K.requireExpects&&null===this.expected?this.pushFailure("Expected number of assertions to be defined, but expect() was not called.",this.stack):null!==this.expected&&this.expected!==this.assertions.length?this.pushFailure("Expected "+this.expected+" assertions, but "+this.assertions.length+" were run",this.stack):null!==this.expected||this.assertions.length||this.pushFailure("Expected at least one assertion, but none were run - call expect(0) to accept zero assertions.",this.stack);var e,t=0;for(this.runtime=P()-this.started,K.stats.all+=this.assertions.length,K.moduleStats.all+=this.assertions.length,e=0;e<this.assertions.length;e++)this.assertions[e].result||(t++,K.stats.bad++,K.moduleStats.bad++);R(this.module),p("testDone",{name:this.testName,module:this.module.name,skipped:!!this.skip,failed:t,passed:this.assertions.length-t,total:this.assertions.length,runtime:this.runtime,assertions:this.assertions,testId:this.testId,source:this.stack}),k(),K.current=void 0},preserveTestEnvironment:function(){this.preserveEnvironment&&(this.module.testEnvironment=this.testEnvironment,this.testEnvironment=u({},this.module.testEnvironment))},queue:function(){function e(){q([function(){n.before()},n.hooks("before"),function(){n.preserveTestEnvironment()},n.hooks("beforeEach"),function(){n.run()},n.hooks("afterEach").reverse(),n.hooks("after").reverse(),function(){n.after()},function(){n.finish()}])}var t,n=this;if(this.valid())return t=Q.config.reorder&&B.sessionStorage&&+sessionStorage.getItem("qunit-test-"+this.module.name+"-"+this.testName),q(e,t,K.seed)},pushResult:function(e){var t,n={module:this.module.name,name:this.testName,result:e.result,message:e.message,actual:e.actual,expected:e.expected,testId:this.testId,negative:e.negative||!1,runtime:P()-this.started};e.result||(t=d(),t&&(n.source=t)),p("log",n),this.assertions.push({result:!!e.result,message:e.message})},pushFailure:function(e,t,n){if(!(this instanceof E))throw new Error("pushFailure() assertion outside test context, was "+d(2));var r={module:this.module.name,name:this.testName,result:!1,message:e||"error",actual:n||null,testId:this.testId,runtime:P()-this.started};t&&(r.source=t),p("log",r),this.assertions.push({result:!1,message:e})},resolvePromise:function(e,t){var n,r,o=this;null!=e&&(n=e.then,"function"===Q.objectType(n)&&(S(o),n.call(e,function(){I(o)},function(e){r="Promise rejected "+(t?t.replace(/Each$/,""):"during")+" "+o.testName+": "+(e.message||e),o.pushFailure(r,f(e,0)),x(),I(o)})))},valid:function(){function e(t){var n=t.name?t.name.toLowerCase():null;return n===o?!0:t.parentModule?e(t.parentModule):!1}function t(e){return s(e.moduleId,K.moduleId)>-1||e.parentModule&&t(e.parentModule)}var n=K.filter,r=/^(!?)\/([\w\W]*)\/(i?$)/.exec(n),o=K.module&&K.module.toLowerCase(),i=this.module.name+": "+this.testName;return this.callback&&this.callback.validTest?!0:K.moduleId&&K.moduleId.length>0&&!t(this.module)?!1:K.testId&&K.testId.length>0&&s(this.testId,K.testId)<0?!1:o&&!e(this.module)?!1:n?r?this.regexFilter(!!r[1],r[2],r[3],i):this.stringFilter(n,i):!0},regexFilter:function(e,t,n,r){var o=new RegExp(t,n),i=o.test(r);return i!==e},stringFilter:function(e,t){e=e.toLowerCase(),t=t.toLowerCase();var n="!"!==e.charAt(0);return n||(e=e.slice(1)),-1!==t.indexOf(e)?n:!n}},Q.pushFailure=function(){if(!Q.config.current)throw new Error("pushFailure() assertion outside test context, in "+d(2));var e=Q.config.current;return e.pushFailure.apply(e,arguments)},Q.assert=N.prototype={expect:function(e){return 1!==arguments.length?this.test.expected:void(this.test.expected=e)},async:function(e){var t=this.test,n=!1,r=e;return"undefined"==typeof r&&(r=1),t.semaphore+=1,t.usedAsync=!0,v(t),function(){return n?void t.pushFailure("Too many calls to the `assert.async` callback",d(2)):(r-=1,void(r>0||(t.semaphore-=1,n=!0,b())))}},push:function(e,t,n,r,o){var i=this instanceof N?this:Q.config.current.assert;return i.pushResult({result:e,actual:t,expected:n,message:r,negative:o})},pushResult:function(e){var t=this,n=t instanceof N&&t.test||Q.config.current;if(!n)throw new Error("assertion outside test context, in "+d(2));return n.usedAsync===!0&&0===n.semaphore&&n.pushFailure("Assertion after the final `assert.async` was resolved",d(2)),t instanceof N||(t=n.assert),t.test.pushResult(e)},ok:function(e,t){t=t||(e?"okay":"failed, expected argument to be truthy, was: "+Q.dump.parse(e)),this.pushResult({result:!!e,actual:e,expected:!0,message:t})},notOk:function(e,t){t=t||(e?"failed, expected argument to be falsy, was: "+Q.dump.parse(e):"okay"),this.pushResult({result:!e,actual:e,expected:!1,message:t})},equal:function(e,t,n){this.pushResult({result:t==e,actual:e,expected:t,message:n})},notEqual:function(e,t,n){this.pushResult({result:t!=e,actual:e,expected:t,message:n,negative:!0})},propEqual:function(e,t,n){e=a(e),t=a(t),this.pushResult({result:Q.equiv(e,t),actual:e,expected:t,message:n})},notPropEqual:function(e,t,n){e=a(e),t=a(t),this.pushResult({result:!Q.equiv(e,t),actual:e,expected:t,message:n,negative:!0})},deepEqual:function(e,t,n){this.pushResult({result:Q.equiv(e,t),actual:e,expected:t,message:n})},notDeepEqual:function(e,t,n){this.pushResult({result:!Q.equiv(e,t),actual:e,expected:t,message:n,negative:!0})},strictEqual:function(e,t,n){this.pushResult({result:t===e,actual:e,expected:t,message:n})},notStrictEqual:function(e,t,n){this.pushResult({result:t!==e,actual:e,expected:t,message:n,negative:!0})},"throws":function(e,t,n){var r,o,i=t,s=!1,a=this instanceof N&&this.test||Q.config.current;if("string"===Q.objectType(t)){if(null!=n)throw new Error("throws/raises does not accept a string value for the expected argument.\nUse a non-string object value (e.g. regExp) instead if it's necessary.Details in our upgrade guide at https://qunitjs.com/upgrade-guide-2.x/");n=t,t=null}a.ignoreGlobalErrors=!0;try{e.call(a.testEnvironment)}catch(u){r=u}a.ignoreGlobalErrors=!1,r&&(o=Q.objectType(t),t?"regexp"===o?s=t.test(U(r)):"function"===o&&r instanceof t?s=!0:"object"===o?s=r instanceof t.constructor&&r.name===t.name&&r.message===t.message:"function"===o&&t.call({},r)===!0&&(i=null,s=!0):(s=!0,i=null)),a.assert.pushResult({result:s,actual:r,expected:i,message:n})}},function(){N.prototype.raises=N.prototype["throws"]}(),Q.equiv=function(){function e(e,t){return"object"==typeof t&&(t=t.valueOf()),"object"==typeof e&&(e=e.valueOf()),t===e}function t(e,t){var n=u(e),r=u(t);return e.constructor===t.constructor?!0:(n&&null===n.constructor&&(n=null),r&&null===r.constructor&&(r=null),null===n&&r===Object.prototype||null===r&&n===Object.prototype)}function n(e){return"flags"in e?e.flags:e.toString().match(/[gimuy]*$/)[0]}function r(e,t){var n=Q.objectType(e);return Q.objectType(t)===n&&l[n](t,e)}function o(e,t){return arguments.length<2?!0:(e===t||r(e,t))&&(2===arguments.length||o.apply(this,[].slice.call(arguments,1)))}var i=[],s=[],a=[],u=Object.getPrototypeOf||function(e){return e.__proto__},l={string:e,"boolean":e,number:e,"null":e,undefined:e,symbol:e,date:e,nan:function(){return!0},regexp:function(e,t){return t.source===e.source&&n(t)===n(e)},"function":function(){var e=i[i.length-1];return e!==Object&&"undefined"!=typeof e},array:function(e,t){var n,r,i,u,l,c;if(i=t.length,i!==e.length)return!1;for(s.push(t),a.push(e),n=0;i>n;n++){for(u=!1,r=0;r<s.length;r++)if(l=s[r]===t[n],c=a[r]===e[n],l||c){if(!(t[n]===e[n]||l&&c))return s.pop(),a.pop(),!1;u=!0}if(!u&&!o(t[n],e[n]))return s.pop(),a.pop(),!1}return s.pop(),a.pop(),!0},set:function(e,t){var n,r=!0;return t.size!==e.size?!1:(t.forEach(function(t){n=!1,e.forEach(function(e){o(e,t)&&(n=!0)}),n||(r=!1)}),r)},map:function(e,t){var n,r=!0;return t.size!==e.size?!1:(t.forEach(function(t,i){n=!1,e.forEach(function(e,r){o([e,r],[t,i])&&(n=!0)}),n||(r=!1)}),r)},object:function(e,n){var r,u,l,c,f,d=!0,h=[],p=[];if(t(n,e)===!1)return!1;i.push(n.constructor),s.push(n),a.push(e);for(r in n){for(l=!1,u=0;u<s.length;u++)if(c=s[u]===n[r],f=a[u]===e[r],c||f){if(!(n[r]===e[r]||c&&f)){d=!1;break}l=!0}if(h.push(r),!l&&!o(n[r],e[r])){d=!1;break}}s.pop(),a.pop(),i.pop();for(r in e)p.push(r);return d&&o(h.sort(),p.sort())}};return o}(),Q.dump=function(){function e(e){return'"'+e.toString().replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'}function t(e){return e+""}function n(e,t,n){var r=i.separator(),o=i.indent(),s=i.indent(1);return t.join&&(t=t.join(","+r+s)),t?[e,s+t,o+n].join(r):e+n}function r(e,t){var r=e.length,o=new Array(r);if(i.maxDepth&&i.depth>i.maxDepth)return"[object Array]";for(this.up();r--;)o[r]=this.parse(e[r],void 0,t);return this.down(),n("[",o,"]")}var o=/^function (\w+)/,i={parse:function(e,t,n){n=n||[];var r,o,i,a=s(e,n);return-1!==a?"recursion("+(a-n.length)+")":(t=t||this.typeOf(e),o=this.parsers[t],i=typeof o,"function"===i?(n.push(e),r=o.call(this,e,n),n.pop(),r):"string"===i?o:this.parsers.error)},typeOf:function(e){var t;return t=null===e?"null":"undefined"==typeof e?"undefined":Q.is("regexp",e)?"regexp":Q.is("date",e)?"date":Q.is("function",e)?"function":void 0!==e.setInterval&&void 0!==e.document&&void 0===e.nodeType?"window":9===e.nodeType?"document":e.nodeType?"node":"[object Array]"===J.call(e)||"number"==typeof e.length&&void 0!==e.item&&(e.length?e.item(0)===e[0]:null===e.item(0)&&void 0===e[0])?"array":e.constructor===Error.prototype.constructor?"error":typeof e},separator:function(){return this.multiline?this.HTML?"<br />":"\n":this.HTML?"&#160;":" "},indent:function(e){if(!this.multiline)return"";var t=this.indentChar;return this.HTML&&(t=t.replace(/\t/g,"   ").replace(/ /g,"&#160;")),new Array(this.depth+(e||0)).join(t)},up:function(e){this.depth+=e||1},down:function(e){this.depth-=e||1},setParser:function(e,t){this.parsers[e]=t},quote:e,literal:t,join:n,depth:1,maxDepth:Q.config.maxDepth,parsers:{window:"[Window]",document:"[Document]",error:function(e){return'Error("'+e.message+'")'},unknown:"[Unknown]","null":"null",undefined:"undefined","function":function(e){var t="function",r="name"in e?e.name:(o.exec(e)||[])[1];return r&&(t+=" "+r),t+="(",t=[t,i.parse(e,"functionArgs"),"){"].join(""),n(t,i.parse(e,"functionCode"),"}")},array:r,nodelist:r,arguments:r,object:function(e,t){var r,o,a,u,l,c=[];if(i.maxDepth&&i.depth>i.maxDepth)return"[object Object]";i.up(),r=[];for(o in e)r.push(o);l=["message","name"];for(u in l)o=l[u],o in e&&s(o,r)<0&&r.push(o);for(r.sort(),u=0;u<r.length;u++)o=r[u],a=e[o],c.push(i.parse(o,"key")+": "+i.parse(a,void 0,t));return i.down(),n("{",c,"}")},node:function(e){var t,n,r,o=i.HTML?"&lt;":"<",s=i.HTML?"&gt;":">",a=e.nodeName.toLowerCase(),u=o+a,l=e.attributes;if(l)for(n=0,t=l.length;t>n;n++)r=l[n].nodeValue,r&&"inherit"!==r&&(u+=" "+l[n].nodeName+"="+i.parse(r,"attribute"));return u+=s,3!==e.nodeType&&4!==e.nodeType||(u+=e.nodeValue),u+o+"/"+a+s},functionArgs:function(e){var t,n=e.length;if(!n)return"";for(t=new Array(n);n--;)t[n]=String.fromCharCode(97+n);return" "+t.join(", ")+" "},key:e,functionCode:"[code]",attribute:e,string:e,date:e,regexp:t,number:t,"boolean":t},HTML:!1,indentChar:"  ",multiline:!0};return i}(),Q.jsDump=Q.dump,Object.keys(N.prototype).forEach(function(e){Q[e]=V("`QUnit."+e+"`")}),Q.asyncTest=function(){throw new Error("asyncTest is removed in QUnit 2.0, use QUnit.test() with assert.async() instead.\nDetails in our upgrade guide at https://qunitjs.com/upgrade-guide-2.x/")},Q.stop=function(){throw new Error("QUnit.stop is removed in QUnit 2.0, use QUnit.test() with assert.async() instead.\nDetails in our upgrade guide at https://qunitjs.com/upgrade-guide-2.x/")},Q.reset=function(){throw new Error("QUnit.reset is removed in QUnit 2.0 without replacement.\nDetails in our upgrade guide at https://qunitjs.com/upgrade-guide-2.x/")},B.document&&(["test","module","expect","start","ok","notOk","equal","notEqual","propEqual","notPropEqual","deepEqual","notDeepEqual","strictEqual","notStrictEqual","throws","raises"].forEach(function(e){H[e]=V("The global `"+e+"`")}),H.QUnit=Q),"undefined"!=typeof o&&o&&o.exports&&(o.exports=Q,o.exports.QUnit=Q),"undefined"!=typeof t&&t&&(t.QUnit=Q),r=function(){return Q}.call(t,n,t,o),!(void 0!==r&&(o.exports=r)),Q.config.autostart=!1}(function(){return this}()),function(){function e(){var e,t,n,r,o={},i=O.search.slice(1).split("&"),s=i.length;for(e=0;s>e;e++)i[e]&&(t=i[e].split("="),n=decodeURIComponent(t[0]),r=1===t.length||decodeURIComponent(t.slice(1).join("=")),o[n]?o[n]=[].concat(o[n],r):o[n]=r);return o}function t(e){return e?(e+="",e.replace(/['"<>&]/g,function(e){switch(e){case"'":return"&#039;";case'"':return"&quot;";case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;"}})):""}function n(e,t,n){e.addEventListener(t,n,!1)}function r(e,t,n){e.removeEventListener(t,n,!1)}function o(e,t,r){for(var o=e.length;o--;)n(e[o],t,r)}function i(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")>=0}function s(e,t){i(e,t)||(e.className+=(e.className?" ":"")+t)}function a(e,t,n){n||"undefined"==typeof n&&!i(e,t)?s(e,t):u(e,t)}function u(e,t){for(var n=" "+e.className+" ";n.indexOf(" "+t+" ")>=0;)n=n.replace(" "+t+" "," ");e.className="function"==typeof n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function l(e){return D.getElementById&&D.getElementById(e)}function c(){var e,n,r,o,i,s=!1,a=I.urlConfig,u="";for(e=0;e<a.length;e++)if(r=I.urlConfig[e],"string"==typeof r&&(r={id:r,label:r}),o=t(r.id),i=t(r.tooltip),r.value&&"string"!=typeof r.value){if(u+="<label for='qunit-urlconfig-"+o+"' title='"+i+"'>"+r.label+": </label><select id='qunit-urlconfig-"+o+"' name='"+o+"' title='"+i+"'><option></option>",QUnit.is("array",r.value))for(n=0;n<r.value.length;n++)o=t(r.value[n]),u+="<option value='"+o+"'"+(I[r.id]===r.value[n]?(s=!0)&&" selected='selected'":"")+">"+o+"</option>";else for(n in r.value)N.call(r.value,n)&&(u+="<option value='"+t(n)+"'"+(I[r.id]===n?(s=!0)&&" selected='selected'":"")+">"+t(r.value[n])+"</option>");I[r.id]&&!s&&(o=t(I[r.id]),u+="<option value='"+o+"' selected='selected' disabled='disabled'>"+o+"</option>"),u+="</select>"}else u+="<input id='qunit-urlconfig-"+o+"' name='"+o+"' type='checkbox'"+(r.value?" value='"+t(r.value)+"'":"")+(I[r.id]?" checked='checked'":"")+" title='"+i+"' /><label for='qunit-urlconfig-"+o+"' title='"+i+"'>"+r.label+"</label>";return u}function f(){var e,t,n,r=this,o={};t="selectedIndex"in r?r.options[r.selectedIndex].value||void 0:r.checked?r.defaultValue||!0:void 0,o[r.name]=t,e=d(o),"hidepassed"===r.name&&"replaceState"in window.history?(QUnit.urlParams[r.name]=t,I[r.name]=t||!1,n=l("qunit-tests"),n&&a(n,"hidepass",t||!1),window.history.replaceState(null,"",e)):window.location=e}function d(e){var t,n,r,o="?",i=window.location;e=QUnit.extend(QUnit.extend({},QUnit.urlParams),e);for(t in e)if(N.call(e,t)&&void 0!==e[t])for(n=[].concat(e[t]),r=0;r<n.length;r++)o+=encodeURIComponent(t),n[r]!==!0&&(o+="="+encodeURIComponent(n[r])),o+="&";return i.protocol+"//"+i.host+i.pathname+o.slice(0,-1)}function h(){var e,t=[],n=l("qunit-modulefilter-dropdown-list").getElementsByTagName("input"),r=l("qunit-filter-input").value;for(e=0;e<n.length;e++)n[e].checked&&t.push(n[e].getAttribute("module-id"));window.location=d({filter:""===r?void 0:r,moduleId:0===t.length?void 0:t,module:void 0,testId:void 0})}function p(){var e=D.createElement("span");return e.innerHTML=c(),s(e,"qunit-url-config"),o(e.getElementsByTagName("input"),"change",f),o(e.getElementsByTagName("select"),"change",f),e}function m(){var e=D.createElement("form"),t=D.createElement("label"),r=D.createElement("input"),o=D.createElement("button");return s(e,"qunit-filter"),t.innerHTML="Filter: ",r.type="text",r.value=I.filter||"",r.name="filter",r.id="qunit-filter-input",o.innerHTML="Go",t.appendChild(r),e.appendChild(t),e.appendChild(o),n(e,"submit",function(e){return h(),e&&e.preventDefault&&e.preventDefault(),!1}),e}function g(){var e,n="";if(!I.modules.length)return!1;for(e=0;e<I.modules.length;e++)""!==I.modules[e].name&&(n+="<li><label><input type='checkbox' module-id='"+I.modules[e].moduleId+"'"+(I.moduleId.indexOf(I.modules[e].moduleId)>-1?" checked":"")+">"+t(I.modules[e].name)+"</label></li>");return n}function v(){var e=g(),t=l("qunit-testrunner-toolbar"),o=D.createElement("label"),i=D.createElement("span"),s=D.createElement("div"),a=D.createElement("input"),u=D.createElement("div"),c=D.createElement("ul"),f=D.createElement("span");return t&&e?(a.placeholder="Select modules",o.innerHTML="Module: ",f.id="clear-module-filter",f.innerHTML="<span id='clear-module-filter-text'>All modules</span><hr/>",f.onclick=function(){var e,t=c.getElementsByTagName("input");for(e=0;e<t.length;e++)t[e].checked=!1;h()},i.id="qunit-modulefilter-container",s.id="qunit-modulefilter-component",c.id="qunit-modulefilter-dropdown-list",a.id="qunit-modulefilter-search",u.id="qunit-modulefilter-dropdown-container",u.style.display="none",u.appendChild(f),i.appendChild(o),i.appendChild(s),s.appendChild(a),s.appendChild(u),n(a,"focus",function(){var e=l("qunit-modulefilter-dropdown-container");"none"===e.style.display&&(n(D,"click",function t(e){l("qunit-modulefilter-container").contains(e.target)||(l("qunit-modulefilter-dropdown-container").style.display="none",r(D,"click",t))}),e.style.display="block")}),n(a,"input",function(){var e,t,n=this.value.toLowerCase(),r=l("qunit-modulefilter-dropdown-list").children;if(n)for(e=0;e<r.length;e++)t=r[e].textContent.toLowerCase(),t.indexOf(n)>-1?r[e].style.display="":r[e].style.display="none";else for(e=0;e<r.length;e++)r[e].style.display=""}),c.innerHTML=e,u.appendChild(c),void t.appendChild(i)):!1}function b(){var e=l("qunit-testrunner-toolbar");e&&(e.appendChild(p()),e.appendChild(m()),v())}function y(){var e=l("qunit-header");e&&(e.innerHTML="<a href='"+t(U)+"'>"+e.innerHTML+"</a> ")}function w(){var e=l("qunit-banner");e&&(e.className="")}function E(){var e=l("qunit-tests"),t=l("qunit-testresult");t&&t.parentNode.removeChild(t),e&&(e.innerHTML="",t=D.createElement("p"),t.id="qunit-testresult",t.className="result",e.parentNode.insertBefore(t,e),t.innerHTML="Running...<br />&#160;")}function k(){var e=l("qunit-fixture");e&&(I.fixture=e.innerHTML)}function _(){var e=QUnit.config.testId;return!e||e.length<=0?"":"<div id='qunit-filteredTest'>Rerunning selected tests: "+t(e.join(", "))+" <a id='qunit-clearFilter' href='"+t(U)+"'>Run all tests</a></div>"}function q(){var e=l("qunit-userAgent");e&&(e.innerHTML="",e.appendChild(D.createTextNode("QUnit "+QUnit.version+"; "+navigator.userAgent)))}function T(){var e=l("qunit");e&&(e.innerHTML="<h1 id='qunit-header'>"+t(D.title)+"</h1><h2 id='qunit-banner'></h2><div id='qunit-testrunner-toolbar'></div>"+_()+"<h2 id='qunit-userAgent'></h2><ol id='qunit-tests'></ol>"),y(),w(),E(),q(),b()}function x(e){var t,n,r,o,i,s;for(t=0,n=e.length;n>t;t++)for(s=e[t],r=0,o=s.tests.length;o>r;r++)i=s.tests[r],C(i.name,i.testId,s.name)}function C(e,t,n){var r,o,i,s,a=l("qunit-tests");a&&(r=D.createElement("strong"),r.innerHTML=j(e,n),o=D.createElement("a"),o.innerHTML="Rerun",o.href=d({testId:t}),i=D.createElement("li"),i.appendChild(r),i.appendChild(o),i.id="qunit-test-output-"+t,s=D.createElement("ol"),s.className="qunit-assert-list",i.appendChild(s),a.appendChild(i))}function j(e,n){var r="";return n&&(r="<span class='module-name'>"+t(n)+"</span>: "),r+="<span class='test-name'>"+t(e)+"</span>"}function M(e){return e.replace(/<\/?[^>]+(>|$)/g,"").replace(/\&quot;/g,"").replace(/\s+/g,"")}var O="undefined"!=typeof window&&window.location;if(O){var S=e();if(QUnit.urlParams=S,QUnit.config.moduleId=[].concat(S.moduleId||[]),QUnit.config.testId=[].concat(S.testId||[]),QUnit.config.module=S.module,QUnit.config.filter=S.filter,S.seed===!0?QUnit.config.seed=Math.random().toString(36).slice(2):S.seed&&(QUnit.config.seed=S.seed),QUnit.config.urlConfig.push({id:"hidepassed",label:"Hide passed tests",tooltip:"Only show tests and assertions that fail. Stored as query-strings."},{id:"noglobals",label:"Check for Globals",tooltip:"Enabling this will test if any test introduces new properties on the global object (`window` in Browsers). Stored as query-strings."},{id:"notrycatch",label:"No try-catch",tooltip:"Enabling this will run tests outside of a try-catch block. Makes debugging exceptions in IE reasonable. Stored as query-strings."}),QUnit.begin(function(){var e,t,n=QUnit.config.urlConfig;for(e=0;e<n.length;e++)t=QUnit.config.urlConfig[e],"string"!=typeof t&&(t=t.id),void 0===QUnit.config[t]&&(QUnit.config[t]=S[t])}),"undefined"!=typeof window&&window.document){QUnit.init=function(){throw new Error("QUnit.init is removed in QUnit 2.0, use QUnit.test() with assert.async() instead.\nDetails in our upgrade guide at https://qunitjs.com/upgrade-guide-2.x/")};var I=QUnit.config,D=window.document,R=!1,N=Object.prototype.hasOwnProperty,U=d({filter:void 0,module:void 0,moduleId:void 0,testId:void 0}),V={sessionStorage:function(){var e="qunit-test-string";try{return sessionStorage.setItem(e,e),sessionStorage.removeItem(e),!0}catch(t){return!1}}()},Q=[];QUnit.begin(function(e){var t,n,r;for(t=0;t<e.modules.length;t++)n=e.modules[t],n.name&&Q.push(n.name);Q.sort(function(e,t){return e.localeCompare(t)}),k(),T(),x(e.modules),r=l("qunit-tests"),r&&I.hidepassed&&s(r,"hidepass")}),QUnit.done(function(e){var t,n,r=l("qunit-banner"),o=l("qunit-tests"),i=["Tests completed in ",e.runtime," milliseconds.<br />","<span class='passed'>",e.passed,"</span> assertions of <span class='total'>",e.total,"</span> passed, <span class='failed'>",e.failed,"</span> failed."].join("");if(r&&(r.className=e.failed?"qunit-fail":"qunit-pass"),o&&(l("qunit-testresult").innerHTML=i),I.altertitle&&D.title&&(D.title=[e.failed?"✖":"✔",D.title.replace(/^[\u2714\u2716] /i,"")].join(" ")),I.reorder&&V.sessionStorage&&0===e.failed)for(t=0;t<sessionStorage.length;t++)n=sessionStorage.key(t++),
0===n.indexOf("qunit-test-")&&sessionStorage.removeItem(n);I.scrolltop&&window.scrollTo&&window.scrollTo(0,0)}),QUnit.testStart(function(e){var t,n,r;n=l("qunit-test-output-"+e.testId),n?n.className="running":C(e.name,e.testId,e.module),t=l("qunit-testresult"),t&&(r=QUnit.config.reorder&&V.sessionStorage&&+sessionStorage.getItem("qunit-test-"+e.module+"-"+e.name),t.innerHTML=(r?"Rerunning previously failed test: <br />":"Running: <br />")+j(e.name,e.module))}),QUnit.log(function(e){var n,r,o,i,s,a,u=!1,c=l("qunit-test-output-"+e.testId);c&&(o=t(e.message)||(e.result?"okay":"failed"),o="<span class='test-message'>"+o+"</span>",o+="<span class='runtime'>@ "+e.runtime+" ms</span>",!e.result&&N.call(e,"expected")?(i=e.negative?"NOT "+QUnit.dump.parse(e.expected):QUnit.dump.parse(e.expected),s=QUnit.dump.parse(e.actual),o+="<table><tr class='test-expected'><th>Expected: </th><td><pre>"+t(i)+"</pre></td></tr>",s!==i?(o+="<tr class='test-actual'><th>Result: </th><td><pre>"+t(s)+"</pre></td></tr>",/^(true|false)$/.test(s)||/^(true|false)$/.test(i)||(a=QUnit.diff(i,s),u=M(a).length!==M(i).length+M(s).length),u&&(o+="<tr class='test-diff'><th>Diff: </th><td><pre>"+a+"</pre></td></tr>")):o+=-1!==i.indexOf("[object Array]")||-1!==i.indexOf("[object Object]")?"<tr class='test-message'><th>Message: </th><td>Diff suppressed as the depth of object is more than current max depth ("+QUnit.config.maxDepth+").<p>Hint: Use <code>QUnit.dump.maxDepth</code> to  run with a higher max depth or <a href='"+t(d({maxDepth:-1}))+"'>Rerun</a> without max depth.</p></td></tr>":"<tr class='test-message'><th>Message: </th><td>Diff suppressed as the expected and actual results have an equivalent serialization</td></tr>",e.source&&(o+="<tr class='test-source'><th>Source: </th><td><pre>"+t(e.source)+"</pre></td></tr>"),o+="</table>"):!e.result&&e.source&&(o+="<table><tr class='test-source'><th>Source: </th><td><pre>"+t(e.source)+"</pre></td></tr></table>"),n=c.getElementsByTagName("ol")[0],r=D.createElement("li"),r.className=e.result?"pass":"fail",r.innerHTML=o,n.appendChild(r))}),QUnit.testDone(function(e){var t,r,o,i,u,c,f,d,h,p=l("qunit-tests");p&&(o=l("qunit-test-output-"+e.testId),i=o.getElementsByTagName("ol")[0],u=e.passed,c=e.failed,I.reorder&&V.sessionStorage&&(c?sessionStorage.setItem("qunit-test-"+e.module+"-"+e.name,c):sessionStorage.removeItem("qunit-test-"+e.module+"-"+e.name)),0===c?s(i,"qunit-collapsed"):c&&I.collapse&&!R?R=!0:s(i,"qunit-collapsed"),t=o.firstChild,f=c?"<b class='failed'>"+c+"</b>, <b class='passed'>"+u+"</b>, ":"",t.innerHTML+=" <b class='counts'>("+f+e.assertions.length+")</b>",e.skipped?(o.className="skipped",d=D.createElement("em"),d.className="qunit-skipped-label",d.innerHTML="skipped",o.insertBefore(d,t)):(n(t,"click",function(){a(i,"qunit-collapsed")}),o.className=c?"fail":"pass",r=D.createElement("span"),r.className="runtime",r.innerHTML=e.runtime+" ms",o.insertBefore(r,i)),e.source&&(h=D.createElement("p"),h.innerHTML="<strong>Source: </strong>"+e.source,s(h,"qunit-source"),0===c&&s(h,"qunit-collapsed"),n(t,"click",function(){a(h,"qunit-collapsed")}),o.appendChild(h)))});var A=function(e){return!(e&&e.version&&e.version.major>0)}(window.phantom);A&&"complete"===D.readyState?QUnit.load():n(window,"load",QUnit.load),QUnit.diff=function(){function e(){}var n=-1,r=1,o=0;return e.prototype.DiffMain=function(e,t,n){var r,i,s,a,u,l;if(r=(new Date).getTime()+1e3,null===e||null===t)throw new Error("Null input. (DiffMain)");return e===t?e?[[o,e]]:[]:("undefined"==typeof n&&(n=!0),i=n,s=this.diffCommonPrefix(e,t),a=e.substring(0,s),e=e.substring(s),t=t.substring(s),s=this.diffCommonSuffix(e,t),u=e.substring(e.length-s),e=e.substring(0,e.length-s),t=t.substring(0,t.length-s),l=this.diffCompute(e,t,i,r),a&&l.unshift([o,a]),u&&l.push([o,u]),this.diffCleanupMerge(l),l)},e.prototype.diffCleanupEfficiency=function(e){var t,i,s,a,u,l,c,f,d;for(t=!1,i=[],s=0,a=null,u=0,l=!1,c=!1,f=!1,d=!1;u<e.length;)e[u][0]===o?(e[u][1].length<4&&(f||d)?(i[s++]=u,l=f,c=d,a=e[u][1]):(s=0,a=null),f=d=!1):(e[u][0]===n?d=!0:f=!0,a&&(l&&c&&f&&d||a.length<2&&l+c+f+d===3)&&(e.splice(i[s-1],0,[n,a]),e[i[s-1]+1][0]=r,s--,a=null,l&&c?(f=d=!0,s=0):(s--,u=s>0?i[s-1]:-1,f=d=!1),t=!0)),u++;t&&this.diffCleanupMerge(e)},e.prototype.diffPrettyHtml=function(e){var i,s,a,u=[];for(a=0;a<e.length;a++)switch(i=e[a][0],s=e[a][1],i){case r:u[a]="<ins>"+t(s)+"</ins>";break;case n:u[a]="<del>"+t(s)+"</del>";break;case o:u[a]="<span>"+t(s)+"</span>"}return u.join("")},e.prototype.diffCommonPrefix=function(e,t){var n,r,o,i;if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;for(o=0,r=Math.min(e.length,t.length),n=r,i=0;n>o;)e.substring(i,n)===t.substring(i,n)?(o=n,i=o):r=n,n=Math.floor((r-o)/2+o);return n},e.prototype.diffCommonSuffix=function(e,t){var n,r,o,i;if(!e||!t||e.charAt(e.length-1)!==t.charAt(t.length-1))return 0;for(o=0,r=Math.min(e.length,t.length),n=r,i=0;n>o;)e.substring(e.length-n,e.length-i)===t.substring(t.length-n,t.length-i)?(o=n,i=o):r=n,n=Math.floor((r-o)/2+o);return n},e.prototype.diffCompute=function(e,t,i,s){var a,u,l,c,f,d,h,p,m,g,v,b;return e?t?(u=e.length>t.length?e:t,l=e.length>t.length?t:e,c=u.indexOf(l),-1!==c?(a=[[r,u.substring(0,c)],[o,l],[r,u.substring(c+l.length)]],e.length>t.length&&(a[0][0]=a[2][0]=n),a):1===l.length?[[n,e],[r,t]]:(f=this.diffHalfMatch(e,t),f?(d=f[0],p=f[1],h=f[2],m=f[3],g=f[4],v=this.DiffMain(d,h,i,s),b=this.DiffMain(p,m,i,s),v.concat([[o,g]],b)):i&&e.length>100&&t.length>100?this.diffLineMode(e,t,s):this.diffBisect(e,t,s))):[[n,e]]:[[r,t]]},e.prototype.diffHalfMatch=function(e,t){function n(e,t,n){var r,o,s,a,u,l,c,f,d;for(r=e.substring(n,n+Math.floor(e.length/4)),o=-1,s="";-1!==(o=t.indexOf(r,o+1));)a=i.diffCommonPrefix(e.substring(n),t.substring(o)),u=i.diffCommonSuffix(e.substring(0,n),t.substring(0,o)),s.length<u+a&&(s=t.substring(o-u,o)+t.substring(o,o+a),l=e.substring(0,n-u),c=e.substring(n+a),f=t.substring(0,o-u),d=t.substring(o+a));return 2*s.length>=e.length?[l,c,f,d,s]:null}var r,o,i,s,a,u,l,c,f,d,h;return r=e.length>t.length?e:t,o=e.length>t.length?t:e,r.length<4||2*o.length<r.length?null:(i=this,f=n(r,o,Math.ceil(r.length/4)),d=n(r,o,Math.ceil(r.length/2)),f||d?(h=d?f&&f[4].length>d[4].length?f:d:f,e.length>t.length?(s=h[0],l=h[1],u=h[2],a=h[3]):(u=h[0],a=h[1],s=h[2],l=h[3]),c=h[4],[s,l,u,a,c]):null)},e.prototype.diffLineMode=function(e,t,i){var s,a,u,l,c,f,d,h,p;for(s=this.diffLinesToChars(e,t),e=s.chars1,t=s.chars2,u=s.lineArray,a=this.DiffMain(e,t,!1,i),this.diffCharsToLines(a,u),this.diffCleanupSemantic(a),a.push([o,""]),l=0,f=0,c=0,h="",d="";l<a.length;){switch(a[l][0]){case r:c++,d+=a[l][1];break;case n:f++,h+=a[l][1];break;case o:if(f>=1&&c>=1){for(a.splice(l-f-c,f+c),l=l-f-c,s=this.DiffMain(h,d,!1,i),p=s.length-1;p>=0;p--)a.splice(l,0,s[p]);l+=s.length}c=0,f=0,h="",d=""}l++}return a.pop(),a},e.prototype.diffBisect=function(e,t,o){var i,s,a,u,l,c,f,d,h,p,m,g,v,b,y,w,E,k,_,q,T,x,C;for(i=e.length,s=t.length,a=Math.ceil((i+s)/2),u=a,l=2*a,c=new Array(l),f=new Array(l),d=0;l>d;d++)c[d]=-1,f[d]=-1;for(c[u+1]=0,f[u+1]=0,h=i-s,p=h%2!==0,m=0,g=0,v=0,b=0,T=0;a>T&&!((new Date).getTime()>o);T++){for(x=-T+m;T-g>=x;x+=2){for(w=u+x,E=x===-T||x!==T&&c[w-1]<c[w+1]?c[w+1]:c[w-1]+1,_=E-x;i>E&&s>_&&e.charAt(E)===t.charAt(_);)E++,_++;if(c[w]=E,E>i)g+=2;else if(_>s)m+=2;else if(p&&(y=u+h-x,y>=0&&l>y&&-1!==f[y]&&(k=i-f[y],E>=k)))return this.diffBisectSplit(e,t,E,_,o)}for(C=-T+v;T-b>=C;C+=2){for(y=u+C,k=C===-T||C!==T&&f[y-1]<f[y+1]?f[y+1]:f[y-1]+1,q=k-C;i>k&&s>q&&e.charAt(i-k-1)===t.charAt(s-q-1);)k++,q++;if(f[y]=k,k>i)b+=2;else if(q>s)v+=2;else if(!p&&(w=u+h-C,w>=0&&l>w&&-1!==c[w]&&(E=c[w],_=u+E-w,k=i-k,E>=k)))return this.diffBisectSplit(e,t,E,_,o)}}return[[n,e],[r,t]]},e.prototype.diffBisectSplit=function(e,t,n,r,o){var i,s,a,u,l,c;return i=e.substring(0,n),a=t.substring(0,r),s=e.substring(n),u=t.substring(r),l=this.DiffMain(i,a,!1,o),c=this.DiffMain(s,u,!1,o),l.concat(c)},e.prototype.diffCleanupSemantic=function(e){var t,i,s,a,u,l,c,f,d,h,p,m,g;for(t=!1,i=[],s=0,a=null,u=0,f=0,d=0,l=0,c=0;u<e.length;)e[u][0]===o?(i[s++]=u,f=l,d=c,l=0,c=0,a=e[u][1]):(e[u][0]===r?l+=e[u][1].length:c+=e[u][1].length,a&&a.length<=Math.max(f,d)&&a.length<=Math.max(l,c)&&(e.splice(i[s-1],0,[n,a]),e[i[s-1]+1][0]=r,s--,s--,u=s>0?i[s-1]:-1,f=0,d=0,l=0,c=0,a=null,t=!0)),u++;for(t&&this.diffCleanupMerge(e),u=1;u<e.length;)e[u-1][0]===n&&e[u][0]===r&&(h=e[u-1][1],p=e[u][1],m=this.diffCommonOverlap(h,p),g=this.diffCommonOverlap(p,h),m>=g?(m>=h.length/2||m>=p.length/2)&&(e.splice(u,0,[o,p.substring(0,m)]),e[u-1][1]=h.substring(0,h.length-m),e[u+1][1]=p.substring(m),u++):(g>=h.length/2||g>=p.length/2)&&(e.splice(u,0,[o,h.substring(0,g)]),e[u-1][0]=r,e[u-1][1]=p.substring(0,p.length-g),e[u+1][0]=n,e[u+1][1]=h.substring(g),u++),u++),u++},e.prototype.diffCommonOverlap=function(e,t){var n,r,o,i,s,a,u;if(n=e.length,r=t.length,0===n||0===r)return 0;if(n>r?e=e.substring(n-r):r>n&&(t=t.substring(0,n)),o=Math.min(n,r),e===t)return o;for(i=0,s=1;;){if(a=e.substring(o-s),u=t.indexOf(a),-1===u)return i;s+=u,0!==u&&e.substring(o-s)!==t.substring(0,s)||(i=s,s++)}},e.prototype.diffLinesToChars=function(e,t){function n(e){var t,n,i,s,a;for(t="",n=0,i=-1,s=r.length;i<e.length-1;)i=e.indexOf("\n",n),-1===i&&(i=e.length-1),a=e.substring(n,i+1),n=i+1,(o.hasOwnProperty?o.hasOwnProperty(a):void 0!==o[a])?t+=String.fromCharCode(o[a]):(t+=String.fromCharCode(s),o[a]=s,r[s++]=a);return t}var r,o,i,s;return r=[],o={},r[0]="",i=n(e),s=n(t),{chars1:i,chars2:s,lineArray:r}},e.prototype.diffCharsToLines=function(e,t){var n,r,o,i;for(n=0;n<e.length;n++){for(r=e[n][1],o=[],i=0;i<r.length;i++)o[i]=t[r.charCodeAt(i)];e[n][1]=o.join("")}},e.prototype.diffCleanupMerge=function(e){var t,i,s,a,u,l,c,f,d;for(e.push([o,""]),t=0,i=0,s=0,u="",a="";t<e.length;)switch(e[t][0]){case r:s++,a+=e[t][1],t++;break;case n:i++,u+=e[t][1],t++;break;case o:i+s>1?(0!==i&&0!==s&&(l=this.diffCommonPrefix(a,u),0!==l&&(t-i-s>0&&e[t-i-s-1][0]===o?e[t-i-s-1][1]+=a.substring(0,l):(e.splice(0,0,[o,a.substring(0,l)]),t++),a=a.substring(l),u=u.substring(l)),l=this.diffCommonSuffix(a,u),0!==l&&(e[t][1]=a.substring(a.length-l)+e[t][1],a=a.substring(0,a.length-l),u=u.substring(0,u.length-l))),0===i?e.splice(t-s,i+s,[r,a]):0===s?e.splice(t-i,i+s,[n,u]):e.splice(t-i-s,i+s,[n,u],[r,a]),t=t-i-s+(i?1:0)+(s?1:0)+1):0!==t&&e[t-1][0]===o?(e[t-1][1]+=e[t][1],e.splice(t,1)):t++,s=0,i=0,u="",a=""}for(""===e[e.length-1][1]&&e.pop(),c=!1,t=1;t<e.length-1;)e[t-1][0]===o&&e[t+1][0]===o&&(f=e[t][1],d=f.substring(f.length-e[t-1][1].length),d===e[t-1][1]?(e[t][1]=e[t-1][1]+e[t][1].substring(0,e[t][1].length-e[t-1][1].length),e[t+1][1]=e[t-1][1]+e[t+1][1],e.splice(t-1,1),c=!0):f.substring(0,e[t+1][1].length)===e[t+1][1]&&(e[t-1][1]+=e[t+1][1],e[t][1]=e[t][1].substring(e[t+1][1].length)+e[t+1][1],e.splice(t+1,1),c=!0)),t++;c&&this.diffCleanupMerge(e)},function(t,n){var r,o,i;return r=new e,o=r.DiffMain(t,n),r.diffCleanupEfficiency(o),i=r.diffPrettyHtml(o)}}()}}}()}).call(t,n(13),n(14)(e))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(3),i=n(9),s=window;(0,i.module)("jsmock - Object type",{beforeEach:function(){this.mock=(0,o.mock)("RECEIVE"),this.mock_test1="",this.mock_test2="",this.mock_test3=""},afterEach:function(){this.mock=void 0,RECEIVE=void 0}}),(0,i.test)("Must be first prameter is string or object",function(e){(0,o.mock)("FOO"),e.deepEqual(FOO,{});var t={};(0,o.mock)(t),e.deepEqual(t,t)}),(0,i.test)("Must be second parameter is 'instance','object',none.",function(e){(0,o.mock)("FOO2"),e.deepEqual(FOO2,{}),(0,o.mock)("FOO3",o.mock.INSTANCE),e.equal(FOO3.constructor,Function)}),(0,i.test)("The should_receive is set method of mock Object.",function(e){var t=(0,o.mock)("RECEIVE");t.should_receive("test"),e.equal(RECEIVE.test.constructor,Function);var n=(0,o.mock)("RECEIVE2",o.mock.INSTANCE);n.should_receive("test"),e.equal(RECEIVE2.prototype.test.constructor,Function)}),(0,i.test)("Return value of should_receive is MockMethod.",function(e){var t=(0,o.mock)("RECEIVE3"),n=t.should_receive("test");e.equal(n.and_return.constructor,Function)}),(0,i.test)("The and_return is  setting value to return.",function(e){(0,o.mock)("RECEIVE4").should_receive("test").and_return(3);var t=RECEIVE4.test();e.equal(t,3)}),(0,i.test)("If use with_param, mock will return value when same param.",function(e){(0,o.mock)("RECEIVE4").should_receive("test").with_param(1,2).and_return(4);var t=RECEIVE4.test(1,2);e.equal(t,4)}),(0,i.test)("The Mock must be work mock before set parameter when add new parameter.",function(e){this.mock.should_receive("test").and_return(3),this.mock.should_receive("test").with_param(1,2).and_return(4),this.mock.should_receive("test").with_param(1,2,3).and_return(5);var t=RECEIVE.test(),n=RECEIVE.test(1,2),r=RECEIVE.test(1,2,3);e.equal(t,3),e.equal(n,4),e.equal(r,5)}),(0,i.test)("The Mock must be change return value when add same parameter.",function(e){this.mock.should_receive("test").and_return(3),this.mock.should_receive("test").with_param(1,2).and_return(4),this.mock.should_receive("test").with_param(1,2).and_return(5);var t=RECEIVE.test(),n=RECEIVE.test(1,2);e.equal(t,3),e.equal(n,5)}),(0,i.test)("The add_throw is throw exception when match param.",function(e){var t="";this.mock.should_receive("test2").and_throw(new Error("and_throw test."));try{RECEIVE.test2()}catch(n){t=n.message}e.equal(t,"and_throw test.")}),(0,i.test)("If set with_param of and_throw then throw exception when match parameter.",function(e){this.mock.should_receive("test2").with_param(1,2).and_throw(new Error("and_throw test2."));var t="";try{RECEIVE.test2(1,2)}catch(n){t=n.message}e.equal(t,"and_throw test2.")}),(0,i.test)("The and_throw is well work when change parameter",function(e){this.mock.should_receive("test2").with_param().and_throw(new Error("and_throw test")),this.mock.should_receive("test2").with_param(1,2).and_throw(new Error("and_throw test2")),this.mock.should_receive("test2").with_param(1,2,3).and_throw(new Error("and_throw test3"));var t="";try{RECEIVE.test2()}catch(n){t=n.message}e.equal(t,"and_throw test");try{RECEIVE.test2(1,2)}catch(n){t=n.message}e.equal(t,"and_throw test2");try{RECEIVE.test2(1,2,3)}catch(n){t=n.message}e.equal(t,"and_throw test3")}),(0,i.test)("The and_throw throw new exception when some function, same parameter, change exception.",function(e){this.mock.should_receive("test2").with_param(1,2,3).and_throw(new Error("and_throw test"));var t="";try{RECEIVE.test2(1,2,3)}catch(n){t=n.message}e.equal(t,"and_throw test"),this.mock.should_receive("test2").with_param(1,2,3).and_throw(new Error("change throw"));try{RECEIVE.test2(1,2,3)}catch(n){t=n.message}e.equal(t,"change throw")}),(0,i.test)("The and_function run function when set new function",function(e){var t=this;this.mock.should_receive("test3").and_function(function(){t.mock_test1="first"}),RECEIVE.test3(),e.equal(t.mock_test1,"first")}),(0,i.test)("If set a with_param then the and_functon run function when only match parameter.",function(e){var t=this;this.mock.should_receive("test3").with_param(1,2).and_function(function(){t.mock_test2="second"}),RECEIVE.test3(1,2),e.equal(t.mock_test2,"second")}),(0,i.test)("Then and_function is well work when same function change parameter.",function(e){var t=this;this.mock.should_receive("test3").with_param().and_function(function(){t.mock_test1="first"}),this.mock.should_receive("test3").with_param(1,2).and_function(function(){t.mock_test2="second"}),this.mock.should_receive("test3").with_param(1,2,3).and_function(function(){t.mock_test3="third"}),RECEIVE.test3(),e.equal(t.mock_test1,"first"),RECEIVE.test3(1,2),e.equal(t.mock_test2,"second"),RECEIVE.test3(1,2,3),e.equal(t.mock_test3,"third")}),(0,i.test)("The and_function run new function when some function, same parameter, change and_function.",function(e){var t=this;this.mock.should_receive("test3").with_param(1,2,3).and_function(function(){t.mock_test3="third"}),this.mock.should_receive("test3").with_param(1,2,3).and_function(function(){t.mock_test3="change third"}),RECEIVE.test3(1,2,3),e.equal(t.mock_test3,"change third")}),(0,i.test)("If use Mock.anything when run function without reference to parameter.",function(e){this.mock.should_receive("test").with_param(1,2).and_return("1"),this.mock.should_receive("test").with_param(1,2,o.mock.anything()).and_return("2"),this.mock.should_receive("test").with_param(1,2,o.mock.anything(),o.mock.anything()).and_return("3"),e.equal(RECEIVE.test(1,2),"1"),e.equal(RECEIVE.test(1,2,3),"2"),e.equal(RECEIVE.test(1,2,1),"2"),e.equal(RECEIVE.test(1,2,4),"2"),e.equal(RECEIVE.test(1,2,4,5),"3"),e.equal(RECEIVE.test(1,2,4,6),"3")}),(0,i.module)("jsmock - other type",{beforeEach:function(){this.mock_test1="",this.mock_test2="",this.mock_test3=""},afterEach:function(){this.mock=void 0,s.MockInstance=void 0}}),(0,i.test)("The instance type is well work too.",function(e){var t=this,n=(0,o.mock)("MockInstance",o.mock.INSTANCE);n.should_receive("test").with_param(1).and_return("1"),n.should_receive("test").with_param(2).and_throw(new Error("test")),n.should_receive("test").with_param(3).and_function(function(){t.mock_test1="test"});var r="",i=new MockInstance;e.equal(i.test(1),"1");try{i.test(2)}catch(s){r=s.message}e.equal(r,"test"),i.test(3),e.equal(t.mock_test1,"test")}),(0,i.test)("The normal functon is well work too.",function(e){var t=this,n=(0,o.mock)(s);n.should_receive("commonfunc").with_param(1).and_return("1"),n.should_receive("commonfunc").with_param(2).and_throw(new Error("test2")),n.should_receive("commonfunc").with_param(3).and_function(function(){t.mock_test1="commonfunc"});var r="",i=commonfunc(1);e.equal(i,"1");try{commonfunc(2)}catch(a){r=a.message}e.equal(r,"test2"),commonfunc(3),e.equal(t.mock_test1,"commonfunc")}),(0,i.test)("The namespace type is well work too.",function(e){(0,o.mock)("aaa.bbb.ccc.ddd").should_receive("test").and_return("test"),e.equal(aaa.bbb.ccc.ddd.test(),"test"),(0,o.mock)("aaaa.bbbb.cccc",o.mock.INSTANCE).should_receive("test").and_return("test"),e.equal((new aaaa.bbbb.cccc).test(),"test"),s.aaaaa={},aaaaa.bbbbb={},(0,o.mock)("aaaaa.bbbbb").should_receive("test").and_return("test"),e.equal(aaaaa.bbbbb.test(),"test"),(0,o.mock)("aaaaa.bbbbb.ccccc").should_receive("test").and_return("test"),e.equal(aaaaa.bbbbb.ccccc.test(),"test")}),(0,i.test)("The with_param well work when use namespace.",function(e){var t=this;(0,o.mock)("param.test").should_receive("commonfunc").with_param(1).and_return("1"),(0,o.mock)("param.test").should_receive("commonfunc").with_param(2).and_throw(new Error("test2")),(0,o.mock)("param.test").should_receive("commonfunc").with_param(3).and_function(function(){t.mock_test1="commonfunc"}),e.equal(param.test.commonfunc(1),"1");var n="";try{param.test.commonfunc(2)}catch(r){n=r.message}e.equal(n,"test2"),param.test.commonfunc(3),e.equal(t.mock_test1,"commonfunc")}),(0,i.module)("jsmock - verify",{beforeEach:function(){this.mock=(0,o.mock)("Verify"),this.mock_test1="",this.mock_test2="",this.mock_test3=""},afterEach:function(){this.mock=void 0,Verify=void 0}}),(0,i.test)("The verify is well work.",function(e){this.mock.should_receive("kall").with_param(1,2).and_return("1"),this.mock.should_receive("kall2").and_return("1"),Verify.kall(1,2);var t="",n=this.mock.verify("kall");e.deepEqual(n,{total:1,param:{"[1,2]":1}});try{(0,o.mock)("Verify").verify("kall2")}catch(r){t=r.message}e.equal(t,"kall2 isn't called.");try{(0,o.mock)("Verify").verify("kall3")}catch(r){t=r.message}e.equal(t,"kall3 isn't method.")}),(0,i.test)("The verify_all is check all method.",function(e){(0,o.mock)("Verify2").should_receive("kall").with_param(1,2).and_return("1"),(0,o.mock)("Verify2").should_receive("kall2").and_return("1"),Verify2.kall(1,2),Verify2.kall2();var t;t=(0,o.mock)("Verify2").verify_all(),e.deepEqual(t,{kall:{total:1,param:{"[1,2]":1}},kall2:{total:1,param:{"[]":1}}}),(0,o.mock)("Verify3").should_receive("kall").with_param(1,2).and_return("1");var n;try{(0,o.mock)("Verify3").verify_all()}catch(r){n=r.message}e.equal(n,"kall isn't called.")}),(0,i.test)("The reset is remove info of function call.",function(e){(0,o.mock)("Verify4").should_receive("kall").with_param(1,2).and_return("1"),Verify4.kall(1,2);var t=(0,o.mock)("Verify4").verify_all();e.deepEqual(t,{kall:{total:1,param:{"[1,2]":1}}});var n;(0,o.mock)("Verify4").reset("kall");try{(0,o.mock)("Verify4").verify("kall")}catch(r){n=r.message}e.equal(n,"kall isn't called.")}),(0,i.test)("The reset_all is remove all info of function call.",function(e){(0,o.mock)("Verify5").should_receive("kall").with_param(1,2).and_return("1"),(0,o.mock)("Verify5").should_receive("kall2").and_return("1"),Verify5.kall(1,2),Verify5.kall2();var t=(0,o.mock)("Verify5").verify_all();e.deepEqual(t,{kall:{total:1,param:{"[1,2]":1}},kall2:{total:1,param:{"[]":1}}});var n;(0,o.mock)("Verify5").reset_all();try{(0,o.mock)("Verify5").verify_all()}catch(r){n=r.message}e.equal(n,"kall isn't called.")}),(0,i.module)("jsmock - Support Class"),(0,i.test)("Add method to Class",function(e){var t=function i(){r(this,i)};(0,o.mock)(t,o.mock.INSTANCE).should_receive("kall").and_return("1");var n=new t;e.equal(n.kall(),"1")}),(0,i.test)("Add method to Class instance",function(e){var t=function i(){r(this,i)},n=new t;(0,o.mock)(n).should_receive("kall").and_return("1"),e.equal(n.kall(),"1")})},function(e,t,n){"use strict";var r=n(3),o=n(9),i=window;(0,o.module)("jsstub",{beforeEach:function(){this.originConsole=i.console,i.console={warn:function(e){}},this.stub=(0,r.stub)("STUB")},afterEach:function(){this.stub=void 0,STUB=void 0,i.console=this.originConsole}}),(0,o.test)("The first parameter of stub is must be string,object.",function(e){(0,r.stub)("FOO"),e.deepEqual(FOO,{});var t={};(0,r.stub)(t),e.deepEqual(t,t)}),(0,o.test)("The Stub is only add function when already made object.",function(e){var t={test:function(){}};(0,r.stub)("Obj"),e.equal(t,t),(0,r.stub)(t),e.equal(t,t)}),(0,o.test)("The second parameter of stub is must be none, 'instance' or 'object'",function(e){(0,r.stub)("FOO2"),e.deepEqual(FOO2,{}),(0,r.stub)("FOO3",r.stub.INSTANCE),e.equal(FOO3.constructor,Function)}),(0,o.test)("The should_receive is set empty function",function(e){this.stub.should_receive("test"),e.equal(STUB.test.constructor,Function),(0,r.stub)("STUB2",r.stub.INSTANCE).should_receive("test"),e.equal(STUB2.prototype.test.constructor,Function)}),(0,o.test)("The should_receive is change function when already function.",function(e){var t={test:function(){return!1}};(0,r.stub)("funcObj").should_receive("test"),e.equal(t.test(),"")}),(0,o.test)("Return value of should_receive is StubMethod.",function(e){var t=this.stub.should_receive("test");e.equal(t.and_return.constructor,Function)}),(0,o.test)("The and_return is return value when and_return set value.",function(e){this.stub.should_receive("test").and_return("test"),e.equal(STUB.test(),"test")}),(0,o.test)("The namespace type is well work too.",function(e){this.stub.should_receive("test").and_return("test"),e.equal(STUB.test(),"test"),(0,r.stub)("aaa.bbb.ccc.ddd").should_receive("test").and_return("test"),e.equal(aaa.bbb.ccc.ddd.test(),"test"),(0,r.stub)("aaaa.bbbb.cccc",r.stub.INSTANCE).should_receive("test").and_return("test"),e.equal((new aaaa.bbbb.cccc).test(),"test"),i.aaaaa={},aaaaa.bbbbb={},(0,r.stub)("aaaaa.bbbbb").should_receive("test").and_return("test"),e.equal(aaaaa.bbbbb.test(),"test"),(0,r.stub)("aaaaa.bbbbb.ccccc").should_receive("test").and_return("test"),e.equal(aaaaa.bbbbb.ccccc.test(),"test")}),(0,o.test)("deprecated stub.",function(e){var t="";i.console={warn:function(e){t=e}},(0,r.stub)("FOO"),e.equal(t,"[WARN] : Deprecated Stub. You should be change to Mock.")})},function(e,t,n){"use strict";var r=n(9);(0,r.start)()},function(e,t){function n(){f&&l&&(f=!1,l.length?c=l.concat(c):d=-1,c.length&&r())}function r(){if(!f){var e=s(n);f=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,f=!1,a(e)}}function o(e,t){this.fun=e,this.array=t}function i(){}var s,a,u=e.exports={};!function(){try{s=setTimeout}catch(e){s=function(){throw new Error("setTimeout is not defined")}}try{a=clearTimeout}catch(e){a=function(){throw new Error("clearTimeout is not defined")}}}();var l,c=[],f=!1,d=-1;u.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new o(e,t)),1!==c.length||f||s(r,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=i,u.addListener=i,u.once=i,u.off=i,u.removeListener=i,u.removeAllListeners=i,u.emit=i,u.binding=function(e){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(e){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}}]);
//# sourceMappingURL=jsmocktool.test.js.map
{"version":3,"sources":["webpack:///webpack/bootstrap fb490663b68fa02c8d40","webpack:///./src/jsmocktool.js","webpack:///./src/stub/jsstub.js","webpack:///./src/stub/jsstubMethod.js","webpack:///./src/testDouble.js","webpack:///./src/mock/jsmock.js","webpack:///./src/mock/jsmockMethodFactory.js","webpack:///./src/mock/jsmockMethod.js"],"names":[],"mappings":"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","file":"dist/jsmocktool.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap fb490663b68fa02c8d40\n **/","import stub from './stub/jsstub';\nimport mock from './mock/jsmock';\n\nexport { stub, mock };\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/jsmocktool.js\n **/","import StubMethod from './jsstubMethod';\r\nimport TestDouble from '../testDouble';\r\n\r\nconst global = window;\r\n\r\nfunction warn(msg) {\r\n\tif (global.console && console.warn) {\r\n\t\tconsole.warn(msg);\r\n\t}\r\n}\r\n\r\nclass Stub extends TestDouble {\r\n\tconstructor(name, type = 'object') {\r\n\t\tsuper(name, type);\r\n\t\tthis.type = 'Stub';\r\n\t\twarn('[WARN] : Deprecated Stub. You should be change to Mock.');\r\n\t}\r\n\tshould_receive(functionName) {\r\n\t\tthis.getTestDouble()[functionName] = () => {\r\n\t\t\tif (this.returnValue !== '_js_stub_none') {\r\n\t\t\t\treturn this.returnValue;\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn new StubMethod(this);\r\n\t}\r\n}\r\n\r\nfunction stubWrap(name, type) {\r\n\tif (this instanceof Stub) {\r\n\t\tthis.createTestDouble(name, type);\r\n\t} else {\r\n\t\treturn new Stub(name, type);\r\n\t}\r\n}\r\n\r\nstubWrap.OBJECT = 'object';\r\nstubWrap.INSTANCE = 'instance';\r\n\r\nexport default stubWrap;\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/stub/jsstub.js\n **/","class StubMethod {\n\tconstructor(stub) {\n\t\tthis.stub = stub;\n\t}\n\n\tand_return(returnValue) {\n\t\tthis.stub.returnValue = returnValue;\n\t}\n}\n\nexport default StubMethod;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/stub/jsstubMethod.js\n **/","const global = window;\n\nclass TestDouble {\n\tconstructor(name, type) {\n\t\tthis.createTestDouble(name, type);\n\t}\n\n\tcreateTestDouble(name, type) {\n\t\tthis.returnValue = '_js_testDouble_none';\n\t\tthis.testDoubleType = type;\n\n\t\tif (typeof name === 'string') {\n\t\t\tthis.makeEnableObj(name, type);\n\t\t} else if (typeof name === 'object' || typeof name === 'function') {\n\t\t\tthis.testDoubleObj = name;\n\t\t} else {\n\t\t\tthrow new Error(\n\t\t\t`Name of ${this.type} is incorrect.\n\t\t\tThe Type only have String or Object or Function.`);\n\t\t}\n\t}\n\n\tgetTestDouble() {\n\t\tif (this.testDoubleType === 'object') {\n\t\t\treturn this.testDoubleObj;\n\t\t}\n\t\treturn this.testDoubleObj.prototype;\n\t}\n\n\tmakeEnableObj(name, type) {\n\t\tconst depth = name.split('.');\n\t\tlet objectName = depth[0];\n\t\tlet obj = global;\n\t\tif (depth.length > 1) {\n\t\t\tdepth.splice(0, depth.length - 1).forEach((v) => {\n\t\t\t\tif (typeof obj[v] === 'undefined') {\n\t\t\t\t\tobj[v] = {};\n\t\t\t\t}\n\t\t\t\tobj = obj[v];\n\t\t\t});\n\t\t\tobjectName = depth[depth.length - 1];\n\t\t}\n\n\t\tconst returnObj = obj[objectName];\n\t\tthis.testDoubleObj = returnObj;\n\t\tif (type === 'object' && !returnObj) {\n\t\t\tthis.testDoubleObj = obj[objectName] = {};\n\t\t} else if (type === 'instance' && !returnObj) {\n\t\t\tthis.testDoubleObj = obj[objectName] = () => {};\n\t\t\tthis.testDoubleObj.prototype = obj[objectName].prototype = {};\n\t\t}\n\t}\n}\n\nexport default TestDouble;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/testDouble.js\n **/","import MockMethodFactory from './jsmockMethodFactory';\nimport TestDouble from '../testDouble';\n\nclass Mock extends TestDouble {\n\tconstructor(name, type = 'object') {\n\t\tsuper(name, type);\n\t\tthis.type = 'Mock';\n\t}\n\n\tshould_receive(methodName) {\n\t\treturn MockMethodFactory.getMethod(this.getTestDouble(), methodName);\n\t}\n\n\treset_all() {\n\t\tfor (const [key, value] of MockMethodFactory.getData(this.getTestDouble())) {\n\t\t\tif (key !== 'current_obj') {\n\t\t\t\tvalue.record = { total: 0, param: {} };\n\t\t\t}\n\t\t}\n\t}\n\n\treset(methodName) {\n\t\tconst obj = MockMethodFactory.getData(this.getTestDouble());\n\t\tobj.get(methodName).record = { total: 0, param: {} };\n\t}\n\n\tverify(methodName) {\n\t\tconst methodInfo = MockMethodFactory.getData(this.getTestDouble()).get(methodName);\n\t\tif (methodInfo) {\n\t\t\tif (methodInfo.record.total === 0) {\n\t\t\t\tthrow new Error(`${methodName} isn't called.`);\n\t\t\t} else {\n\t\t\t\treturn methodInfo.record;\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new Error(`${methodName} isn't method.`);\n\t\t}\n\t}\n\n\tverify_all() {\n\t\tconst obj = MockMethodFactory.getData(this.getTestDouble());\n\t\tconst returnValue = {};\n\n\t\tobj.forEach((v, i) => {\n\t\t\tif (i !== 'current_obj') returnValue[i] = this.verify(i);\n\t\t});\n\n\t\treturn returnValue;\n\t}\n\n}\n\nfunction mockWrap(name, type) {\n\tif (this instanceof Mock) {\n\t\tthis.createTestDouble(name, type);\n\t} else {\n\t\treturn new Mock(name, type);\n\t}\n}\n\nmockWrap.OBJECT = 'object';\nmockWrap.INSTANCE = 'instance';\nmockWrap.anything = () => '_js_mock_anything_param';\n\nexport default mockWrap;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/mock/jsmock.js\n **/","import MockMethod from './jsmockMethod';\n\nconst MockMethodFactory = {\n\tstorage: [\n\t\t//      {\n\t\t//          current_obj : {}, object\n\t\t//          current_functions : {} mock method\n\t\t//      }\n\t],\n\tcreateData(obj) {\n\t\tconst dataObj = (new Map()).set('current_obj', obj);\n\t\tthis.storage.push(dataObj);\n\n\t\treturn dataObj;\n\t},\n\tcreateMethod(obj, methodName) {\n\t\treturn new MockMethod(obj, methodName);\n\t},\n\tgetData(obj) {\n\t\tfor (const value of this.storage) {\n\t\t\tif (value.get('current_obj') === obj) {\n\t\t\t\treturn value;\n\t\t\t}\n\t\t}\n\t\treturn this.createData(obj);\n\t},\n\tgetMethod(obj, methodName) {\n\t\tconst dataObj = this.getData(obj);\n\t\tlet methodObj = dataObj.get(methodName);\n\t\tif (!methodObj) {\n\t\t\tmethodObj = this.createMethod(obj, methodName);\n\t\t\tdataObj.set(methodName, methodObj);\n\t\t}\n\t\treturn methodObj;\n\t},\n};\n\nexport default MockMethodFactory;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/mock/jsmockMethodFactory.js\n **/","\nclass MockMethod {\n\n\tconstructor(obj, methodName) {\n\t\tthis.excuteObjs = new Map();\n\t\t// {\n\t\t//      key:{\n\t\t//          arg:[],\n\t\t//          type:'function',\n\t\t//          excute : function(){}\n\t\t//      }\n\t\t// };\n\t\tthis.record = { total: 0, param: {} };\n\t\tthis.currentParam = this.transformParamToString([]);\n\t\tthis.excuteObjs.set(this.currentParam, new Map());\n\t\tthis.setup(obj, methodName);\n\t}\n\n\ttransformParamToString(obj) {\n\t\treturn JSON.stringify(obj);\n\t}\n\n\tsetup(obj, methodName) {\n\t\tconst that = this;\n\t\tconst target = obj;\n\t\ttarget[methodName] = function addFunc(...params) {\n\t\t\tthat.record.total++;\n\t\t\tconst argString = that.transformParamToString(params);\n\n\t\t\tif (that.record.param[argString]) {\n\t\t\t\tthat.record.param[argString] += 1;\n\t\t\t} else {\n\t\t\t\tthat.record.param[argString] = 1;\n\t\t\t}\n\n\t\t\tconst dataObj = that.excuteObjs.get(argString);\n\n\t\t\tif (dataObj) {\n\t\t\t\tconst type = dataObj.get('type');\n\t\t\t\tconst excute = dataObj.get('excute');\n\t\t\t\tif (type === 'function') {\n\t\t\t\t\treturn excute.apply(dataObj, params);\n\t\t\t\t} else if (type === 'exception') {\n\t\t\t\t\tthrow excute;\n\t\t\t\t} else if (type === 'return') {\n\t\t\t\t\treturn excute;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (const [, v] of that.excuteObjs) {\n\t\t\t\t\tconst arg = v.get('arg');\n\t\t\t\t\tconst excute = v.get('excute');\n\n\t\t\t\t\tif (arg && (arg.length === params.length)) {\n\t\t\t\t\t\tlet paramMatch = true;\n\t\t\t\t\t\tfor (let j = 0, l = arg.length; j < l; j++) {\n\t\t\t\t\t\t\tif (arg[j] !== params[j] && arg[j] !== '_js_mock_anything_param') {\n\t\t\t\t\t\t\t\tparamMatch = false;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (paramMatch) {\n\t\t\t\t\t\t\treturn excute;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\n\twith_param(...params) {\n\t\tthis.currentParam = this.transformParamToString(params);\n\t\tthis.excuteObjs.set(this.currentParam, (new Map()).set('arg', params));\n\t\treturn this;\n\t}\n\n\tand_template(type, excute) {\n\t\tthis.excuteObjs\n\t\t\t.get(this.currentParam)\n\t\t\t.set('type', type)\n\t\t\t.set('excute', excute);\n\n\t\tthis.currentParam = this.transformParamToString([]);\n\t}\n\n\tand_return(returnVal) {\n\t\tthis.and_template('return', returnVal);\n\t}\n\n\tand_function(returnFunction) {\n\t\tthis.and_template('function', returnFunction);\n\t}\n\n\tand_throw(returnException) {\n\t\tthis.and_template('exception', returnException);\n\t}\n\n}\n\nexport default MockMethod;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/mock/jsmockMethod.js\n **/"],"sourceRoot":""}
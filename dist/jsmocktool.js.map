{"version":3,"sources":["webpack:///webpack/bootstrap 25e635e9ab53ce39b6e4","webpack:///./src/jsmocktool.js","webpack:///./src/stub/jsstub.js","webpack:///./src/stub/jsstubMethod.js","webpack:///./src/testDouble.js","webpack:///./src/mock/jsmock.js","webpack:///./src/mock/jsmockMethodFactory.js","webpack:///./src/mock/jsmockMethod.js"],"names":[],"mappings":"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","file":"jsmocktool.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 25e635e9ab53ce39b6e4\n **/","import stub from './stub/jsstub';\nimport mock from './mock/jsmock';\n\nexport { stub, mock };\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/jsmocktool.js\n **/","import StubMethod from './jsstubMethod';\r\nimport TestDouble from '../testDouble';\r\n\r\nconst global = window;\r\n\r\nfunction warn(msg) {\r\n\tif (global.console && console.warn) {\r\n\t\tconsole.warn(msg);\r\n\t}\r\n}\r\n\r\nclass Stub extends TestDouble {\r\n\tconstructor(name, type = 'object') {\r\n\t\tsuper(name, type);\r\n\t\tthis.type = 'Stub';\r\n\t\twarn('[WARN] : Deprecated Stub. You should be change to Mock.');\r\n\t}\r\n\tshould_receive(functionName) {\r\n\t\tthis.getTestDouble()[functionName] = () => {\r\n\t\t\tif (this.returnValue !== '_js_stub_none') {\r\n\t\t\t\treturn this.returnValue;\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn new StubMethod(this);\r\n\t}\r\n}\r\n\r\nfunction stubWrap(name, type) {\r\n\tif (this instanceof Stub) {\r\n\t\tthis.createTestDouble(name, type);\r\n\t} else {\r\n\t\treturn new Stub(name, type);\r\n\t}\r\n}\r\n\r\nstubWrap.OBJECT = 'object';\r\nstubWrap.INSTANCE = 'instance';\r\n\r\nexport default stubWrap;\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/stub/jsstub.js\n **/","class StubMethod {\n\tconstructor(stub) {\n\t\tthis.stub = stub;\n\t}\n\n\tand_return(returnValue) {\n\t\tthis.stub.returnValue = returnValue;\n\t}\n}\n\nexport default StubMethod;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/stub/jsstubMethod.js\n **/","const global = window;\n\nclass TestDouble {\n\tconstructor(name, type) {\n\t\tthis.createTestDouble(name, type);\n\t}\n\n\tcreateTestDouble(name, type) {\n\t\tthis.returnValue = '_js_testDouble_none';\n\t\tthis.testDoubleType = type;\n\n\t\tif (typeof name === 'string') {\n\t\t\tthis.makeEnableObj(name, type);\n\t\t} else if (typeof name === 'object' || typeof name === 'function') {\n\t\t\tthis.testDoubleObj = name;\n\t\t} else {\n\t\t\tthrow new Error(\n\t\t\t`Name of ${this.type} is incorrect.\n\t\t\tThe Type only have String or Object or Function.`);\n\t\t}\n\t}\n\n\tgetTestDouble() {\n\t\tif (this.testDoubleType === 'object') {\n\t\t\treturn this.testDoubleObj;\n\t\t}\n\t\treturn this.testDoubleObj.prototype;\n\t}\n\n\tmakeEnableObj(name, type) {\n\t\tconst depth = name.split('.');\n\t\tlet objectName = depth[0];\n\t\tlet obj = global;\n\t\tif (depth.length > 1) {\n\t\t\tdepth.splice(0, depth.length - 1).forEach((v) => {\n\t\t\t\tif (typeof obj[v] === 'undefined') {\n\t\t\t\t\tobj[v] = {};\n\t\t\t\t}\n\t\t\t\tobj = obj[v];\n\t\t\t});\n\t\t\tobjectName = depth[depth.length - 1];\n\t\t}\n\n\t\tconst returnObj = obj[objectName];\n\t\tthis.testDoubleObj = returnObj;\n\t\tif (type === 'object' && !returnObj) {\n\t\t\tthis.testDoubleObj = obj[objectName] = {};\n\t\t} else if (type === 'instance' && !returnObj) {\n\t\t\tthis.testDoubleObj = obj[objectName] = () => {};\n\t\t\tthis.testDoubleObj.prototype = obj[objectName].prototype = {};\n\t\t}\n\t}\n}\n\nexport default TestDouble;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/testDouble.js\n **/","import MockMethodFactory from './jsmockMethodFactory';\nimport TestDouble from '../testDouble';\n\nclass Mock extends TestDouble {\n\tconstructor(name, type = 'object') {\n\t\tsuper(name, type);\n\t\tthis.type = 'Mock';\n\t}\n\n\tshould_receive(methodName) {\n\t\treturn MockMethodFactory.getMethod(this.getTestDouble(), methodName);\n\t}\n\n\treset_all() {\n\t\tconst obj = MockMethodFactory.getData(this.getTestDouble());\n\t\tfor (const i in obj) {\n\t\t\tif (i !== 'current_obj') {\n\t\t\t\tobj[i].record = { total: 0, param: {} };\n\t\t\t}\n\t\t}\n\t}\n\n\treset(methodName) {\n\t\tconst obj = MockMethodFactory.getData(this.getTestDouble());\n\t\tobj[methodName].record = { total: 0, param: {} };\n\t}\n\n\tverify(methodName) {\n\t\tconst obj = MockMethodFactory.getData(this.getTestDouble());\n\t\tif (obj[methodName]) {\n\t\t\tif (obj[methodName].record.total === 0) {\n\t\t\t\tthrow new Error(`${methodName} isn't called.`);\n\t\t\t} else {\n\t\t\t\treturn obj[methodName].record;\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new Error(`${methodName} isn't method.`);\n\t\t}\n\t}\n\n\tverify_all() {\n\t\tconst obj = MockMethodFactory.getData(this.getTestDouble());\n\t\tconst returnValue = {};\n\t\tfor (const i in obj) {\n\t\t\tif (i !== 'current_obj') returnValue[i] = this.verify(i);\n\t\t}\n\t\treturn returnValue;\n\t}\n\n}\n\nfunction mockWrap(name, type) {\n\tif (this instanceof Mock) {\n\t\tthis.createTestDouble(name, type);\n\t} else {\n\t\treturn new Mock(name, type);\n\t}\n}\n\nmockWrap.OBJECT = 'object';\nmockWrap.INSTANCE = 'instance';\nmockWrap.anything = () => '_js_mock_anything_param';\n\nexport default mockWrap;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/mock/jsmock.js\n **/","import MockMethod from './jsmockMethod';\n\nconst MockMethodFactory = {\n\tstorage: [\n\t\t//      {\n\t\t//          current_obj : {}, object\n\t\t//          current_functions : {} mock method\n\t\t//      }\n\t],\n\tcreateData(obj) {\n\t\tconst dataObj = { current_obj: obj };\n\t\tthis.storage.push(dataObj);\n\n\t\treturn dataObj;\n\t},\n\tcreateMethod(obj, methodName) {\n\t\tconst dataObj = this.getData(obj);\n\t\tdataObj[methodName] = new MockMethod(obj, methodName);\n\n\t\treturn dataObj[methodName];\n\t},\n\tgetData(obj) {\n\t\tfor (let i = 0, l = this.storage.length; i < l; i++) {\n\t\t\tif (this.storage[i].current_obj === obj) {\n\t\t\t\treturn this.storage[i];\n\t\t\t}\n\t\t}\n\t\treturn this.createData(obj);\n\t},\n\tgetMethod(obj, methodName) {\n\t\tconst dataObj = this.getData(obj);\n\t\tif (!dataObj[methodName]) {\n\t\t\tdataObj[methodName] = this.createMethod(obj, methodName);\n\t\t}\n\t\treturn dataObj[methodName];\n\t},\n};\n\nexport default MockMethodFactory;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/mock/jsmockMethodFactory.js\n **/","\n\nfunction argumentsToArray(arg) {\n\tconst returnVal = [];\n\tif (!!arg.length) {\n\t\tfor (let i = 0, l = arg.length; i < l; i++) {\n\t\t\treturnVal[i] = arg[i];\n\t\t}\n\t}\n\treturn returnVal;\n}\n\nclass MockMethod {\n\n\tconstructor(obj, methodName) {\n\t\tthis.excuteObjs = {\n\t\t//      key:{\n\t\t//          arg:[],\n\t\t//          type:\"function\",\n\t\t//          excute : function(){}\n\t\t//      }\n\t\t};\n\t\tthis.record = { total: 0, param: {} };\n\t\tthis.currentParam = JSON.stringify([]);\n\t\tthis.excuteObjs[this.currentParam] = {};\n\t\tthis.setup(obj, methodName);\n\t}\n\n\tsetup(obj, methodName) {\n\t\tconst that = this;\n\t\tconst target = obj;\n\t\ttarget[methodName] = function addFunc(...params) {\n\t\t\tthat.record.total++;\n\t\t\tconst argString = JSON.stringify(argumentsToArray(params));\n\n\t\t\tif (that.record.param[argString]) {\n\t\t\t\tthat.record.param[argString] += 1;\n\t\t\t} else {\n\t\t\t\tthat.record.param[argString] = 1;\n\t\t\t}\n\n\t\t\tconst dataObj = that.excuteObjs[argString];\n\n\t\t\tif (dataObj) {\n\t\t\t\tif (dataObj.type === 'function') {\n\t\t\t\t\treturn dataObj.excute.apply(dataObj, argumentsToArray(params));\n\t\t\t\t} else if (dataObj.type === 'exception') {\n\t\t\t\t\tthrow dataObj.excute;\n\t\t\t\t} else if (dataObj.type === 'return') {\n\t\t\t\t\treturn dataObj.excute;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (const i in that.excuteObjs) {\n\t\t\t\t\tconst currentParam = argumentsToArray(params);\n\t\t\t\t\tconst arg = that.excuteObjs[i].arg;\n\n\t\t\t\t\tif (arg && (arg.length === currentParam.length)) {\n\t\t\t\t\t\tlet paramMatch = true;\n\t\t\t\t\t\tfor (let j = 0, l = arg.length; j < l; j++) {\n\t\t\t\t\t\t\tif (arg[j] !== currentParam[j] && arg[j] !== '_js_mock_anything_param') {\n\t\t\t\t\t\t\t\tparamMatch = false;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (paramMatch) {\n\t\t\t\t\t\t\treturn that.excuteObjs[i].excute;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\n\twith_param(...params) {\n\t\tconst arg = argumentsToArray(params);\n\t\tthis.currentParam = JSON.stringify(arg);\n\t\tthis.excuteObjs[this.currentParam] = { arg };\n\t\treturn this;\n\t}\n\n\tand_template(type, excute) {\n\t\tthis.excuteObjs[this.currentParam].type = type;\n\t\tthis.excuteObjs[this.currentParam].excute = excute;\n\t\tthis.currentParam = JSON.stringify([]);\n\t}\n\n\tand_return(returnVal) {\n\t\tthis.and_template('return', returnVal);\n\t}\n\n\tand_function(returnFunction) {\n\t\tthis.and_template('function', returnFunction);\n\t}\n\n\tand_throw(returnException) {\n\t\tthis.and_template('exception', returnException);\n\t}\n\n}\n\nexport default MockMethod;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/mock/jsmockMethod.js\n **/"],"sourceRoot":""}